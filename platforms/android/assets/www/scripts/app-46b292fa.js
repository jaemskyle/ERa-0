/**
 * generator-cg-gas - Yeoman Generator for Enterprise Angular projects, with Gulp Angular Sass
 * @version v3.3.3
 * @link https://github.com/Lunatic83/generator-cg-gas
 * @license 
 */
angular.module("ERChart",["templates","ionic","LocalForageModule","firebase","mgcrea.ngStrap","ErAuth"]),angular.module("ERChart").config(["$stateProvider","$urlRouterProvider","$locationProvider","$localForageProvider",function($stateProvider,$urlRouterProvider,$locationProvider,$localForageProvider){$stateProvider.state("root",{url:"/a",templateUrl:"modules/partial/menu/menu.html","abstract":!0}),$stateProvider.state("login",{url:"/login",views:{"@":{templateUrl:"modules/partial/login/login.html"}}}),$stateProvider.state("signup",{url:"/signup",views:{"@":{templateUrl:"modules/partial/signup/signup.html",controller:"SignupCtrl"}}}),$stateProvider.state("forgot",{url:"/forgot",views:{"@":{templateUrl:"modules/partial/forgot/forgot.html",controller:"ForgotCtrl"}}}),$stateProvider.state("root.settings",{url:"/settings",views:{rootContent:{templateUrl:"modules/partial/settings/settings.html"}}}),$stateProvider.state("root.form",{url:"/form",views:{rootContent:{resolve:{isEditMode:function(){return!1}},templateUrl:"modules/partial/form/form.html",controller:"FormCtrl"}}}),$stateProvider.state("root.edit",{url:"/form/:formId",views:{rootContent:{resolve:{isEditMode:function(){return!0}},templateUrl:"modules/partial/form/form.html",controller:"FormCtrl"}}}),$stateProvider.state("root.home",{url:"/home",views:{rootContent:{resolve:{isUserAuthd:["eruser",function(eruser){return eruser.isUserAuthd()}]},templateUrl:"modules/partial/home/home.html",controller:"HomeCtrl"}}}),$stateProvider.state("pincode",{url:"/pincode",views:{"@":{templateUrl:"modules/partial/pincode/pincode.html"}}}),$urlRouterProvider.otherwise("/pincode"),$localForageProvider.setNotify(!0,!0),$localForageProvider.config({driver:window.localforage.LOCALSTORAGE,name:"ERa_",storeName:"ERaLocalStore",description:"ERa local data."})}]),angular.module("ERChart").run(["$rootScope","$state","$stateParams","$log","$firebase","$firebaseAuth","eruser",function($rootScope,$state,$stateParams,$log){$rootScope.$state=$state,$rootScope.$stateParams=$stateParams,$rootScope.$on("$stateChangeStart",function(event){$log.info("--StateChangeStart--- "+angular.toJson(event))}),$rootScope.$on("$stateChangeSuccess",function(event){$log.info("---StateChangeSuccess--- "+angular.toJson(event))}),$rootScope.$on("$stateChangeError",function(event){$log.error("event "+angular.toJson(event)),$state.go("login")}),$rootScope.safeApply=function(fn){var phase=$rootScope.$$phase;"$apply"===phase||"$digest"===phase?fn&&"function"==typeof fn&&fn():this.$apply(fn)}}]),angular.module("ERChart").controller("MenuCtrl",["$scope","$firebaseAuth","$timeout","$state",function($scope,$firebaseAuth,$timeout,$state){var erfire=new Firebase("https://era.firebaseio.com/users"),authObj=$firebaseAuth(erfire);this.logout=function(){console.log("should log out"),authObj.$unauth(),$timeout(function(){$state.go("login")})}}]),angular.module("ERChart").controller("LoginCtrl",["$scope","$timeout","$firebase","$firebaseAuth","$state","eruser",function($scope,$timeout,$firebase,$firebaseAuth,$state,eruser){function login(){$scope.authObj.$authWithPassword({email:$scope.cred.email,password:$scope.cred.pass}).then(function(authDataa){console.log("Logged in as:",authDataa.uid);var nuU={_eruid:authDataa.uid};eruser.createUser(nuU,Immutable.fromJS(authDataa)).then(function(){console.log("user is created")}),$scope.cred={},$timeout(function(){$state.go("pincode")})})["catch"](function(error){console.error("Authentication failed:",error)})}function logout(){console.log("should log out"),$scope.authObj.$unauth(),$timeout(function(){$state.go("root.login")})}{var erfireusers=new Firebase("https://era.firebaseio.com/users");$firebase(erfireusers).$asObject()}$scope.authObj=$firebaseAuth(erfireusers);var authData=$scope.authObj.$getAuth();$scope.signup={},$scope.cred={},$scope.user={eruid:null},authData?(console.log("Already in as:",authData.uid),console.log(authData),$scope.user.eruid=authData.uid,console.log($scope.user),$state.go("pincode")):console.log("Logged out"),this.login=login,this.logout=logout}]),angular.module("ERChart").controller("SignupCtrl",["$scope","$timeout","$firebase","$firebaseAuth","$state","eruser",function($scope,$timeout,$firebase,$firebaseAuth,$state){var erfire_base_url=new Firebase("https://era.firebaseio.com/users"),erfire_users_sync=$firebase(erfire_base_url);$scope.authObj=$firebaseAuth(erfire_base_url);$scope.authObj.$getAuth();$scope.signup={},$scope.cred={},$scope.user={eruid:null},$scope.signup=function(){$scope.authObj.$createUser({email:$scope.signup.email,password:$scope.signup.pass}).then(function(userData){console.log("User "+userData.uid+" created successfully!");var newUser=(userData.uid,{_eruid:userData.uid,hospital:$scope.signup.hospital,name:$scope.signup.nom,province:$scope.signup.province||null});return erfire_users_sync.$push(newUser).then(function(ref){console.log(ref.key())}),$scope.authObj.$authWithPassword({email:$scope.signup.email,password:$scope.signup.pass})}).then(function(authData){console.log("Logged in as:",authData.uid),$scope.user.eruid=authData.uid,console.log($scope.user),console.log(authData),$timeout(function(){$state.go("root.home")}),$scope.signup={}})["catch"](function(error){console.error("Error: ",error)})}}]),angular.module("ERChart").controller("ForgotCtrl",["$scope",function(){}]),angular.module("ERChart").controller("SettingsCtrl",["$scope",function(){}]),angular.module("ERChart").controller("FormCtrl",["$scope","cache","erutils","$state","isEditMode","$stateParams",function($scope,cache,erutils,$state,isEditMode){console.log($state),erutils.broadcastPageEvent(isEditMode?"isEdit":"isAdd"),$scope.print=function(){erutils.broadcastPageEvent("Print")},$scope.save=function(){$state.is("root.edit")?erutils.broadcastPageEvent("UpdateChart"):$state.is("root.form")&&erutils.broadcastPageEvent("SaveChart")},$scope.goHome=function(){erutils.broadcastPageEvent("GoHome")}}]),angular.module("ERChart").controller("EditCtrl",["$scope",function(){}]),angular.module("ERChart").controller("HomeCtrl",["$scope","cache","$interval","$state","$timeout","$firebase","$firebaseAuth","eruser","$window","isUserAuthd",function($scope,cache,$interval,$state,$timeout,$firebase,$firebaseAuth,eruser){{var erfire_base_url=new Firebase("https://era.firebaseio.com/users");$firebase(erfire_base_url)}$scope.authObj=$firebaseAuth(erfire_base_url);var er_user=($scope.authObj.$getAuth(),{});er_user=Immutable.fromJS(angular.fromJson(eruser.getLocalAuthUser())),console.log(er_user.get("token")),$scope.showListDelete=!1;var allExForms=[],init=function(){cache.getLocalData().then(function(getLocalDataSuccess){$scope.forms=getLocalDataSuccess.length?getLocalDataSuccess:allExForms})},syncScopeToLocal=function(){cache.writeLocalData(allExForms).then(function(){init()})},deleteItem=function(item,index){allExForms.length&&(allExForms.splice(index,1),syncScopeToLocal())},prepForDelete=function(item,index){cache.getLocalData().then(function(getLocalDataSuccess){getLocalDataSuccess.length&&(allExForms=getLocalDataSuccess,deleteItem(item,index))})},getLocalData=function(){cache.getLocalData().then(function(getLocalDataSuccess){getLocalDataSuccess&&(allExForms=getLocalDataSuccess,$scope.forms=getLocalDataSuccess)})};$scope.refresh=function(){getLocalData()},$scope.clearAll=function(){cache.clearAllCached(),$scope.forms=[]},$scope.canSwipeList=function(){return!0},$scope.deleteItem=function(item,index){index||1!==allExForms.length?prepForDelete(item,index):(allExForms=[],syncScopeToLocal())},$scope.editItem=function(form){$timeout(function(){$state.transitionTo("root.edit",{formId:form.id})})},init(),$scope.$on("CacheUpdate:Updated",function(){init()})}]),angular.module("ERChart").factory("cache",["$localForage","$rootScope",function($localForage,$rootScope){var cache={getStoreLength:function(){return $localForage.length()},getStoreKeys:function(){return $localForage.keys()},writeLocalData:function(data){return $localForage.setItem("ExForms",data)},getLocalData:function(){return $localForage.getItem("ExForms")},clearCachedItem:function(item){return $localForage.removeItem(item)},clearAllCached:function(){return $localForage.clear()},broadcastCacheEvent:function(eventType){console.log("broadcasting: "+eventType),$rootScope.$broadcast("CacheUpdate:"+eventType)}};return cache}]),angular.module("ERChart").factory("constants",function(){var constants={options:[{label:"not applicable",value:0},{label:"Abnormal",value:1},{label:"Normal",value:2}],heent:{cat_name:"heent",fields:[{name:"throat_clear",label:"Throat clear",model:"throatClear",note_toggle:!1,model_note:"throatClearNote",cat:"heent"},{name:"tm",label:"TM normal",model:"tm",note_toggle:!1,model_note:"tmNote",cat:"heent"},{name:"neck_supple",label:"Neck supple",model:"neckSupple",note_toggle:!1,model_note:"neckSuppleNote",cat:"heent"}],note:{name:"heent_note",label:"Heent Note",model:"heentNote",note_toggle:!1,cat:"heent"}},respiratory_exam:{cat_name:"respiratory_exam",fields:[{name:"good_bilat_a_e",label:"Good bilat A/E",model:"goodBilatA_E",note_toggle_flag:!1,model_note:"goodBilatAENote",cat:"respiratory_exam"},{name:"wheezing",label:"No Wheezing",model:"wheezing",note_toggle_flag:!1,model_note:"wheezingNote",cat:"respiratory_exam"},{name:"crackle",label:"No Crackle",model:"crackle",note_toggle_flag:!1,model_note:"crackleNote",cat:"respiratory_exam"}],note:{name:"respiratory_exam_note",label:"Respiratory Exam",model:"respiratoryExamNote",note_toggle_flag:!1,cat:"respiratory_exam"}},abdominal_exam:{cat_name:"abdominal_exam",fields:[{name:"soft_and_non_tender",label:"Soft and non tender",model:"softAndNonTender",note_toggle:!1,model_note:"softAndNonTenderNote",cat:"abdominal_exam"},{name:"bsp",label:"BSP",model:"bsp",note_toggle:!1,model_note:"bspNote",cat:"abdominal_exam"},{name:"mass",label:"No mass",model:"mass",note_toggle:!1,model_note:"massNote",cat:"abdominal_exam"},{name:"organomegaly",label:"No organomegaly",model:"organomegaly",note_toggle:!1,model_note:"organomegalyNote",cat:"abdominal_exam"},{name:"no_sign_of_peritonitis",label:"No sign of peritonitis",model:"noSignOfPeritonitis",note_toggle:!1,model_note:"noSignOfPeritonitisNote",cat:"abdominal_exam"},{name:"fpp_and_equal",label:"FPP and equal",model:"fppAndEqual",note_toggle:!1,model_note:"fppAndEqualNote",cat:"abdominal_exam"}],note:{name:"abdominal_exam_note",label:"Abdominal Exam Notes",model:"abdominalExamNote",note_toggle:!1,cat:"abdominal_exam"}},cardio_vascular:{cat_name:"cardio_vascular",fields:[{name:"s1_s2_present",label:"S1 and S2 present",model:"s1S2Present",note_toggle:!1,model_note:"s1S2PresentNote",cat:"cardio_vascular"},{name:"s3",label:"No S3",model:"s3",note_toggle:!1,model_note:"s3Note",cat:"cardio_vascular"},{name:"s4",label:"No S4",model:"s4",note_toggle:!1,model_note:"s4Note",cat:"cardio_vascular"},{name:"murmur",label:"No murmur",model:"murmur",note_toggle:!1,model_note:"murmurNote",cat:"cardio_vascular"},{name:"ppp",label:"PPP",model:"ppp",note_toggle:!1,model_note:"pppNote",cat:"cardio_vascular"},{name:"jvd",label:"No JVD",model:"jvd",note_toggle:!1,model_note:"jvdNote",cat:"cardio_vascular"}],note:{name:"cardio_vascular_note",label:"Cardio Vascular Note",model:"cardioVascularNote",note_toggle:!1,cat:"cardio_vascular"}},neurological_exam:{cat_name:"neurological_exam",fields:[{name:"cerebellum_exam",label:"Cerebellum Exam Normal",model:"cerebellumExam",note_toggle:!1,model_note:"cerebellumExamNormalNote",cat:"neurological_exam"},{name:"power",label:"Power normal",model:"power",note_toggle:!1,model_note:"powerNote",cat:"neurological_exam"},{name:"sensation",label:"Sensation Normal",model:"sensation",note_toggle:!1,model_note:"sensationNote",cat:"neurological_exam"},{name:"tone",label:"Tone normal",model:"tone",note_toggle:!1,model_note:"toneNote",cat:"neurological_exam"},{name:"reflex",label:"Reflex Normal",model:"reflex",note_toggle:!1,model_note:"reflexNote",cat:"neurological_exam"},{name:"cnii_x_ii",label:"CN II X-II normal",model:"cniixii",note_toggle:!1,model_note:"cniixiiNote",cat:"neurological_exam"}],note:{name:"neurological_exam_note",label:"Neurological Exam Note",model:"neurologicalExamNote",cat:"neurological_exam"}},values:{_id:null,id:"",date:"",time:"",printed:!1,er_card:{hpi:"",pmhx:"None",medication:"None",allergies:"None"},physical_exam:{respiratory_exam:{status:2,good_bilat_a_e:{text:"Normal",index:2},good_bilat_a_e_note:"",decrease_a_e:{text:"Normal",index:2},decrease_a_e_note:"",wheezing:{text:"Normal",index:2},wheezing_note:"",crackle:{text:"Normal",index:2},crackle_note:"",respiratory_exam_note:""},cardio_vascular:{status:2,s1:{text:"Normal",index:2},s1_note:"",s2:{text:"Normal",index:2},s2_note:"",ppp:{text:"Normal",index:2},ppp_note:"",cardio_vascular_note:""},abdominal_exam:{status:2,soft_and_non_tender:{text:"Normal",index:2},soft_and_non_tender_note:"",bsp:{text:"Normal",index:2},bsp_note:"",fpp_and_equal:{text:"Normal",index:2},fpp_and_equal_note:"",distended:{text:"Normal",index:2},distended_note:"",tender:{text:"Normal",index:2},tender_note:"",decrease_bowel_sounds:{text:"Normal",index:2},decrease_bowel_sounds_note:"",abdominal_exam_note:""},heent:{throat_clear:{text:"Normal",index:2},throat_clear_note:"",tm:{text:"Normal",index:2},tm_note:"",neck_supple:{text:"Normal",index:2},neck_supple_note:"",tm_red_and_bulging:{text:"Normal",index:2},tm_red_and_bulging_note:"",exudates_on_tonsil:{text:"Normal",index:2},exudates_on_tonsil_note:"",cervical_adenopathy:{text:"Normal",index:2},cervical_adenopathy_note:"",heent_note:""},neurological_exam:{cnii_x_ii:{text:"Normal",index:2},cnii_x_ii_note:"",power:{text:"Normal",index:2},power_note:"",sensation:{text:"Normal",index:2},sensation_note:"",tone:{text:"Normal",index:2},tone_note:"",cl_exam:{text:"Normal",index:2},cl_exam_note:"",neurological_exam_note:""},notes:""},diagnosis:"",discharge_instruction:""}};return constants}),angular.module("ERChart").factory("erutils",["$timeout","$rootScope",function($timeout,$rootScope){var erutils={showToast:function(position,duration,message){"top"===position?"short"===duration?window.plugins.toast.showShortTop(message):window.plugins.toast.showLongTop(message):"bottom"===position?"short"===duration?window.plugins.toast.showShortBottom(message):window.plugins.toast.showLongBottom(message):"center"===position&&("short"===duration?window.plugins.toast.showShortTop(message):window.plugins.toast.showLongTop(message))},filterCharts:function(charts,chartId){return charts.filter(function(chart){return chart.id!==chartId})},broadcastPageEvent:function(eventName){$timeout(function(){$rootScope.$broadcast("PageEvent:"+eventName)})}};return erutils}]),angular.module("ERChart").directive("erform",["$state","constants","$timeout","cache","$log","$stateParams","$ionicPopup","$q","erutils","$document",function($state,constants,$timeout,cache,$log,$stateParams,$ionicPopup,$q,erutils){return function($scope,$elem){var currentChart={},allCharts=[],navigateToHome=function(){$state.go("root.home"),$timeout(function(){setDefault(),cache.broadcastCacheEvent("Updated")})},showPatientIdPopupAndPrint=function(){return $ionicPopup.show({template:'<input type="text" ng-model="chart.id">',title:"Please enter a patient id.",scope:$scope,buttons:[{text:"Cancel"},{text:"<b>Print</b>",type:"button-positive",onTap:function(e){return $scope.chart.id?$scope.chart.id:void e.preventDefault()}}]})},showPatientIdPopup=function(){return $ionicPopup.show({template:'<input type="text" ng-model="chart.id">',title:"Please enter a patient id.",scope:$scope,buttons:[{text:"Cancel"},{text:"<b>Save</b>",type:"button-positive",onTap:function(e){return $scope.chart.id?$scope.chart.id:void e.preventDefault()}}]})},formFieldDefaults=constants.values;$scope.chart={},$scope.options=constants.options,$scope.resp=constants.respiratory_exam,$scope.abdo=constants.abdominal_exam,$scope.heent=constants.heent,$scope.cardiov=constants.cardio_vascular,$scope.neuro=constants.neurological_exam,$scope.physical_exam_modules={"Respiratory Exam":constants.respiratory_exam,"Abdominal Exam":constants.abdominal_exam,Heent:constants.heent,"Cardio Vascular":constants.cardio_vascular,"Neurological Exam":constants.neurological_exam};var formValueSetter=function(dataObj,flag){return"status"===flag?0:"textarea"===flag?"":"checkbox"===flag?!1:"date"===flag?moment().format("YYYY-MM-DD"):"time"===flag?moment().format("hh:mm: A"):void 0},getSavedFieldValue=function(savedValues,flag,tagType){return!angular.isObject(savedValues)||_.isEmpty(savedValues)?formValueSetter(null,"status"):tagType?"input"===tagType?_.pick(savedValues,flag)[flag]:"checkbox"===tagType?savedValues[flag]?savedValues[flag]:!1:"textarea"===tagType?savedValues[flag]?savedValues[flag]:"":void 0:savedValues[flag]},setModuleStatus=function(cat,state,param_data){cat&&($scope.ExaminationForm[cat+"_status"].$modelValue=angular.isString(param_data)||!param_data?formValueSetter(null,"status"):getSavedFieldValue(param_data[cat],"status"),$scope.ExaminationForm[cat+"_status"].$$writeModelToScope(),$scope.ExaminationForm[cat+"_status"].$render())},setCheckBoxState=function(fieldName,cat,param_data){$scope.ExaminationForm[fieldName.name].$viewValue=angular.isString(param_data)||!param_data?formValueSetter(formFieldDefaults.physical_exam[cat],"checkbox"):getSavedFieldValue(param_data[cat],fieldName.model,"checkbox"),$scope.ExaminationForm[fieldName.name].$render(),$scope.ExaminationForm[fieldName.name].$commitViewValue()},setNoteState=function(field,param_data){$scope.ExaminationForm[field.name]&&($scope.ExaminationForm[field.name].$viewValue=angular.isString(param_data)||!param_data?formValueSetter(formFieldDefaults.physical_exam[field.module][field.name],"textarea"):getSavedFieldValue(param_data[field.module],field.model,"textarea",field.module),$scope.ExaminationForm[field.name].$render(),$scope.ExaminationForm[field.name].$commitViewValue())},setDefault=function(state_data){var deferred=$q.defer();$scope.ExaminationForm.date.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults,"date"):getSavedFieldValue(state_data,"date","input"),$scope.ExaminationForm.time.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults,"time"):getSavedFieldValue(state_data,"time","input"),$scope.ExaminationForm.date.$render(),$scope.ExaminationForm.date.$commitViewValue(),$scope.ExaminationForm.time.$render(),$scope.ExaminationForm.time.$commitViewValue(),$scope.ExaminationForm.id.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults,"id","input"):getSavedFieldValue(state_data,"id","input"),$scope.ExaminationForm.id.$render(),$scope.ExaminationForm.id.$commitViewValue();for(var i=0,list=["heent","resp","abdo","cardiov","neuro"],listLen=list.length;listLen>i;i++)setModuleStatus($scope[list[i]].cat_name,function(){return angular.isObject(state_data)?getSavedFieldValue(state_data[$scope[list[i]].cat_name],"status","input",$scope[list[i]].cat_name):setModuleStatus(list[i],"status","default")},state_data);for(var i=0,list=[{name:"good_bilat_a_e",model:"goodBilatA_E"},{name:"wheezing",model:"wheezing"},{name:"crackle",model:"crackle"}],listLen=list.length;listLen>i;i++)setCheckBoxState(list[i],"respiratory_exam",state_data);for(var i=0,list=[{name:"throat_clear",model:"throatClear"},{name:"tm",model:"tm"},{name:"neck_supple",model:"neckSupple"}],listLen=list.length;listLen>i;i++)setCheckBoxState(list[i],"heent",state_data);for(var i=0,list=[{name:"soft_and_non_tender",model:"softAndNonTender"},{name:"bsp",model:"bsp"},{name:"mass",model:"mass"},{name:"organomegaly",model:"organomegaly"},{name:"no_sign_of_peritonitis",model:"noSignOfPeritonitis"},{name:"fpp_and_equal",model:"fppAndEqual"}],listLen=list.length;listLen>i;i++)setCheckBoxState(list[i],"abdominal_exam",state_data);for(var i=0,list=[{name:"s1_s2_present",model:"s1S2Present"},{name:"s3",model:"s3"},{name:"s4",model:"s4"},{name:"murmur",model:"murmur"},{name:"ppp",model:"ppp"},{name:"jvd",model:"jvd"}],listLen=list.length;listLen>i;i++)setCheckBoxState(list[i],"cardio_vascular",state_data);for(var i=0,list=[{name:"cerebellum_exam",model:"cerebellumExam"},{name:"power",model:"power"},{name:"sensation",model:"sensation"},{name:"tone",model:"tone"},{name:"reflex",model:"reflex"},{name:"cnii_x_ii",model:"cniixii"}],listLen=list.length;listLen>i;i++)setCheckBoxState(list[i],"neurological_exam",state_data);for(var i=0,list=[{name:"heent_note",model:"heentNote",module:"heent"},{name:"respiratory_exam_note",model:"respiratoryExamNote",module:"respiratory_exam"},{name:"abdominal_exam_note",model:"abdominalExamNote",module:"abdominal_exam"},{name:"cardio_vascular_note",model:"cardioVascularNote",module:"cardio_vascular"},{name:"neurological_exam_note",model:"neurologicalExamNote",module:"neurological_exam"}],listLen=list.length;listLen>i;i++)setNoteState(list[i],state_data);return $scope.ExaminationForm.hpi.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults.er_card,"hpi","textarea"):getSavedFieldValue(state_data,"hpi","textarea"),$scope.ExaminationForm.pmhx.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults.er_card,"pmhx","textarea"):getSavedFieldValue(state_data,"pmhx","textarea"),$scope.ExaminationForm.medication.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults.er_card,"medication","textarea"):getSavedFieldValue(state_data,"medication","textarea"),$scope.ExaminationForm.allergies.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults.er_card,"allergies","textarea"):getSavedFieldValue(state_data,"allergies","textarea"),$scope.ExaminationForm.notes.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults.physical_exam,"notes","textarea"):getSavedFieldValue(state_data,"notes","textarea"),$scope.ExaminationForm.diagnosis.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults,"diagnosis","textarea"):getSavedFieldValue(state_data,"diagnosis","textarea"),$scope.ExaminationForm.discharge_instruction.$viewValue=angular.isString(state_data)||!state_data?formValueSetter(formFieldDefaults,"discharge_instruction","textarea"):getSavedFieldValue(state_data,"discharge_instruction","textarea"),$scope.ExaminationForm.hpi.$render(),$scope.ExaminationForm.pmhx.$render(),$scope.ExaminationForm.medication.$render(),$scope.ExaminationForm.allergies.$render(),$scope.ExaminationForm.notes.$render(),$scope.ExaminationForm.diagnosis.$render(),$scope.ExaminationForm.discharge_instruction.$render(),$scope.ExaminationForm.hpi.$commitViewValue(),$scope.ExaminationForm.pmhx.$commitViewValue(),$scope.ExaminationForm.medication.$commitViewValue(),$scope.ExaminationForm.allergies.$commitViewValue(),$scope.ExaminationForm.notes.$commitViewValue(),$scope.ExaminationForm.diagnosis.$commitViewValue(),$scope.ExaminationForm.discharge_instruction.$commitViewValue(),deferred.resolve($scope.ExaminationForm),deferred.promise},checkChart=function(){var deferred=$q.defer();return $scope.chart.id&&""!==$scope.chart.id?deferred.resolve($scope.chart):deferred.reject("req:id"),deferred.promise},addChart=function(){var deferred=$q.defer();return allCharts.unshift(angular.extend($scope.chart,{_erid:new Date+$scope.chart.id,date:moment().format("YYYY-MM-DD"),time:""!==$scope.chart.time?$scope.chart.time:moment().format("hh:mm A")})),deferred.resolve(allCharts),deferred.promise},filterCharts=function(){var deferredFilteredCharts=$q.defer();return allCharts=erutils.filterCharts(allCharts,$stateParams.formId),deferredFilteredCharts.resolve(allCharts),deferredFilteredCharts.promise},initNewChart=function(chartStatus){cache.getLocalData().then(function(successData){allCharts=successData?successData:[]}).then(function(){angular.isObject(chartStatus)?addChart().then(function(updatedCharts){cache.writeLocalData(updatedCharts).then(function(){navigateToHome()})}):showPatientIdPopup().then(function(popUpResult){popUpResult?addChart().then(function(newChartsArray){cache.writeLocalData(newChartsArray).then(function(){navigateToHome()})}):$state.go("root.home")})})},initEditChart=function(){cache.getLocalData().then(function(successData){allCharts=successData?successData:[]}).then(function(){angular.forEach(allCharts,function(chart){$stateParams.formId===chart.id&&(setDefault(chart).then(function(formScope){formScope.$setPristine(),formScope.$setUntouched()}),currentChart=chart)})})},initSaveChart=function(){console.log("---initializing SaveChart---"),$state.is("root.form")?(console.log("---state.is root.form: creating new chart---"),checkChart().then(function(chartStatus){console.log("---chartStatus:valid > moving on..---"),initNewChart(chartStatus)},function(reason){console.log("---chartStatus:invalid > moving on..---"),initNewChart(reason)})):(console.log("---state.is root.edit: processing new form---"),filterCharts().then(function(newChartsArray){allCharts=newChartsArray,addChart().then(function(updatedCharts){console.log("---adding new chart..---"),cache.writeLocalData(updatedCharts).then(function(){console.log("---new chart add to local store successfully...---")})["finally"](function(){console.log("---all clear > going back to home.---"),navigateToHome()})})}))},prepPageToPrint=function(){$scope.ExaminationForm.date.$render(),$scope.ExaminationForm.date.$commitViewValue(),$scope.ExaminationForm.time.$render(),$scope.ExaminationForm.time.$commitViewValue(),$scope.ExaminationForm.heent_note.$render(),$scope.ExaminationForm.heent_note.$commitViewValue(),$scope.ExaminationForm.respiratory_exam_note.$render(),$scope.ExaminationForm.respiratory_exam_note.$commitViewValue(),$scope.ExaminationForm.abdominal_exam_note.$render(),$scope.ExaminationForm.abdominal_exam_note.$commitViewValue(),$scope.ExaminationForm.cardio_vascular_note.$render(),$scope.ExaminationForm.cardio_vascular_note.$commitViewValue(),$scope.ExaminationForm.neurological_exam_note.$render(),$scope.ExaminationForm.neurological_exam_note.$commitViewValue(),$scope.ExaminationForm.id.$render(),$scope.ExaminationForm.id.$commitViewValue(),$scope.ExaminationForm.good_bilat_a_e.$render(),$scope.ExaminationForm.good_bilat_a_e.$commitViewValue(),$scope.ExaminationForm.wheezing.$render(),$scope.ExaminationForm.wheezing.$commitViewValue(),$scope.ExaminationForm.crackle.$render(),$scope.ExaminationForm.crackle.$commitViewValue(),$scope.ExaminationForm.s1_s2_present.$render(),$scope.ExaminationForm.s1_s2_present.$commitViewValue(),$scope.ExaminationForm.s3.$render(),$scope.ExaminationForm.s3.$commitViewValue(),$scope.ExaminationForm.s4.$render(),$scope.ExaminationForm.s4.$commitViewValue(),$scope.ExaminationForm.ppp.$render(),$scope.ExaminationForm.ppp.$commitViewValue(),$scope.ExaminationForm.murmur.$render(),$scope.ExaminationForm.murmur.$commitViewValue(),$scope.ExaminationForm.jvd.$render(),$scope.ExaminationForm.jvd.$commitViewValue(),$scope.ExaminationForm.soft_and_non_tender.$render(),$scope.ExaminationForm.soft_and_non_tender.$commitViewValue(),$scope.ExaminationForm.bsp.$render(),$scope.ExaminationForm.bsp.$commitViewValue(),$scope.ExaminationForm.fpp_and_equal.$render(),$scope.ExaminationForm.fpp_and_equal.$commitViewValue(),$scope.ExaminationForm.organomegaly.$render(),$scope.ExaminationForm.organomegaly.$commitViewValue(),$scope.ExaminationForm.no_sign_of_peritonitis.$render(),$scope.ExaminationForm.no_sign_of_peritonitis.$commitViewValue(),$scope.ExaminationForm.throat_clear.$render(),$scope.ExaminationForm.throat_clear.$commitViewValue(),$scope.ExaminationForm.tm.$render(),$scope.ExaminationForm.tm.$commitViewValue(),$scope.ExaminationForm.neck_supple.$render(),$scope.ExaminationForm.neck_supple.$commitViewValue(),$scope.ExaminationForm.cerebellum_exam.$render(),$scope.ExaminationForm.cerebellum_exam.$commitViewValue(),$scope.ExaminationForm.power.$render(),$scope.ExaminationForm.power.$commitViewValue(),$scope.ExaminationForm.sensation.$render(),$scope.ExaminationForm.sensation.$commitViewValue(),$scope.ExaminationForm.tone.$render(),$scope.ExaminationForm.tone.$commitViewValue(),$scope.ExaminationForm.reflex.$render(),$scope.ExaminationForm.reflex.$commitViewValue();var page=document.getElementById("form");return page},printDone=function(){angular.forEach($elem.parent().children(),function(value,key){key>=2&&value.remove()}),$scope.chart.printed=!0,initSaveChart()},initPrint=function(){for(var printPage=prepPageToPrint(),parentElem=angular.element($elem[0].parentNode),formElem=angular.element($elem.parent());$elem.parent()[0].children.length<=2;)parentElem.append(formElem.html());ionic.Platform.ready(function(){cordova.plugins.printer.print(printPage,"er-pid-"+$scope.chart.id||"print",function(){printDone()})})};$scope.$on("PageEvent:Print",function(){checkChart().then(function(){initPrint()},function(){showPatientIdPopupAndPrint().then(function(popupResult){popupResult&&initPrint()})})}),$scope.$on("PageEvent:SaveChart",function(){console.log("Event@erForm:: PageEvent:SaveChart"),initSaveChart()}),$scope.$on("PageEvent:UpdateChart",function(){!$scope.ExaminationForm.$invalid&&$state.is("root.edit")&&initSaveChart()}),$scope.$on("PageEvent:GoHome",function(){$scope.ExaminationForm.$pristine&&!$scope.ExaminationForm.$dirty?$state.go("root.home"):!$scope.ExaminationForm.$invalid&&$state.is("root.edit")?initSaveChart():$scope.ExaminationForm.$invalid&&$state.is("root.form")&&initSaveChart()}),$scope.$on("PageEvent:isAdd",function(){$timeout(function(){setDefault("default").then(function(formScope){formScope.$setPristine(),formScope.$setUntouched()})})}),$scope.$on("PageEvent:isEdit",function(){initEditChart()})}}]),angular.module("ERChart").directive("erItemIsprinted",function(){return{restrict:"A",link:function(scope,element,attrs){if(attrs.erItemIsprinted){var c=angular.element(element.children()[0]);c[0].style.background="beige"}}}}),angular.module("ERChart").controller("PincodeCtrl",["$scope","$state","$timeout","eruser",function($scope,$state,$timeout,eruser){eruser.getAuthdUser("simplelogin:15").then(function(r){console.log(Immutable.fromJS(r))});var pin=[];this.unlockPin=function(val){if(2!==pin.length)pin.push(val),console.log("a");else if(2===pin.length)return console.log("yo"),$state.go("root.home"),pin=[];console.log(pin)}}]),angular.module("ERChart").factory("eruser",["$localForage","$window","$q",function($localForage,$window,$q){var eruser={createUser:function(newUser,data){return $localForage.setItem(newUser._eruid,data)},getAuthdUser:function(userKey){return $localForage.getItem(userKey)},getLocalAuthUser:function(){var erfire_session_key="firebase:session::era";return $window.localStorage[erfire_session_key]},isUserAuthd:function(){var deferred=$q.defer();return angular.isDefined(this.getLocalAuthUser())?deferred.resolve(!0):deferred.reject(!1),deferred.promise}};return eruser}]),angular.module("ErAuth",[]),angular.module("ErAuth").config(["$stateProvider",function(){}]),angular.module("ErAuth").factory("globalAuth",function(){var globalAuth={};return globalAuth});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvYXBwLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJGxvY2FsRm9yYWdlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiYWJzdHJhY3QiLCJ2aWV3cyIsIkAiLCJjb250cm9sbGVyIiwicm9vdENvbnRlbnQiLCJyZXNvbHZlIiwiaXNFZGl0TW9kZSIsImlzVXNlckF1dGhkIiwiZXJ1c2VyIiwib3RoZXJ3aXNlIiwic2V0Tm90aWZ5IiwiZHJpdmVyIiwid2luZG93IiwibG9jYWxmb3JhZ2UiLCJMT0NBTFNUT1JBR0UiLCJuYW1lIiwic3RvcmVOYW1lIiwiZGVzY3JpcHRpb24iLCJydW4iLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwiJHN0YXRlUGFyYW1zIiwiJGxvZyIsIiRvbiIsImV2ZW50IiwiaW5mbyIsInRvSnNvbiIsImVycm9yIiwiZ28iLCJzYWZlQXBwbHkiLCJmbiIsInBoYXNlIiwiJCRwaGFzZSIsInRoaXMiLCIkYXBwbHkiLCIkc2NvcGUiLCIkZmlyZWJhc2VBdXRoIiwiJHRpbWVvdXQiLCJlcmZpcmUiLCJGaXJlYmFzZSIsImF1dGhPYmoiLCJsb2dvdXQiLCJjb25zb2xlIiwibG9nIiwiJHVuYXV0aCIsIiRmaXJlYmFzZSIsImxvZ2luIiwiJGF1dGhXaXRoUGFzc3dvcmQiLCJlbWFpbCIsImNyZWQiLCJwYXNzd29yZCIsInBhc3MiLCJ0aGVuIiwiYXV0aERhdGFhIiwidWlkIiwibnVVIiwiX2VydWlkIiwiY3JlYXRlVXNlciIsIkltbXV0YWJsZSIsImZyb21KUyIsImVyZmlyZXVzZXJzIiwiJGFzT2JqZWN0IiwiYXV0aERhdGEiLCIkZ2V0QXV0aCIsInNpZ251cCIsInVzZXIiLCJlcnVpZCIsImVyZmlyZV9iYXNlX3VybCIsImVyZmlyZV91c2Vyc19zeW5jIiwiJGNyZWF0ZVVzZXIiLCJ1c2VyRGF0YSIsIm5ld1VzZXIiLCJob3NwaXRhbCIsIm5vbSIsInByb3ZpbmNlIiwiJHB1c2giLCJyZWYiLCJrZXkiLCJjYWNoZSIsImVydXRpbHMiLCJicm9hZGNhc3RQYWdlRXZlbnQiLCJwcmludCIsInNhdmUiLCJpcyIsImdvSG9tZSIsIiRpbnRlcnZhbCIsImVyX3VzZXIiLCJmcm9tSnNvbiIsImdldExvY2FsQXV0aFVzZXIiLCJnZXQiLCJzaG93TGlzdERlbGV0ZSIsImFsbEV4Rm9ybXMiLCJpbml0IiwiZ2V0TG9jYWxEYXRhIiwiZ2V0TG9jYWxEYXRhU3VjY2VzcyIsImZvcm1zIiwibGVuZ3RoIiwic3luY1Njb3BlVG9Mb2NhbCIsIndyaXRlTG9jYWxEYXRhIiwiZGVsZXRlSXRlbSIsIml0ZW0iLCJpbmRleCIsInNwbGljZSIsInByZXBGb3JEZWxldGUiLCJyZWZyZXNoIiwiY2xlYXJBbGwiLCJjbGVhckFsbENhY2hlZCIsImNhblN3aXBlTGlzdCIsImVkaXRJdGVtIiwiZm9ybSIsInRyYW5zaXRpb25UbyIsImZvcm1JZCIsImlkIiwiZmFjdG9yeSIsIiRsb2NhbEZvcmFnZSIsImdldFN0b3JlTGVuZ3RoIiwiZ2V0U3RvcmVLZXlzIiwia2V5cyIsImRhdGEiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsImNsZWFyQ2FjaGVkSXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsImJyb2FkY2FzdENhY2hlRXZlbnQiLCJldmVudFR5cGUiLCIkYnJvYWRjYXN0IiwiY29uc3RhbnRzIiwib3B0aW9ucyIsImxhYmVsIiwidmFsdWUiLCJoZWVudCIsImNhdF9uYW1lIiwiZmllbGRzIiwibW9kZWwiLCJub3RlX3RvZ2dsZSIsIm1vZGVsX25vdGUiLCJjYXQiLCJub3RlIiwicmVzcGlyYXRvcnlfZXhhbSIsIm5vdGVfdG9nZ2xlX2ZsYWciLCJhYmRvbWluYWxfZXhhbSIsImNhcmRpb192YXNjdWxhciIsIm5ldXJvbG9naWNhbF9leGFtIiwidmFsdWVzIiwiX2lkIiwiZGF0ZSIsInRpbWUiLCJwcmludGVkIiwiZXJfY2FyZCIsImhwaSIsInBtaHgiLCJtZWRpY2F0aW9uIiwiYWxsZXJnaWVzIiwicGh5c2ljYWxfZXhhbSIsInN0YXR1cyIsImdvb2RfYmlsYXRfYV9lIiwidGV4dCIsImdvb2RfYmlsYXRfYV9lX25vdGUiLCJkZWNyZWFzZV9hX2UiLCJkZWNyZWFzZV9hX2Vfbm90ZSIsIndoZWV6aW5nIiwid2hlZXppbmdfbm90ZSIsImNyYWNrbGUiLCJjcmFja2xlX25vdGUiLCJyZXNwaXJhdG9yeV9leGFtX25vdGUiLCJzMSIsInMxX25vdGUiLCJzMiIsInMyX25vdGUiLCJwcHAiLCJwcHBfbm90ZSIsImNhcmRpb192YXNjdWxhcl9ub3RlIiwic29mdF9hbmRfbm9uX3RlbmRlciIsInNvZnRfYW5kX25vbl90ZW5kZXJfbm90ZSIsImJzcCIsImJzcF9ub3RlIiwiZnBwX2FuZF9lcXVhbCIsImZwcF9hbmRfZXF1YWxfbm90ZSIsImRpc3RlbmRlZCIsImRpc3RlbmRlZF9ub3RlIiwidGVuZGVyIiwidGVuZGVyX25vdGUiLCJkZWNyZWFzZV9ib3dlbF9zb3VuZHMiLCJkZWNyZWFzZV9ib3dlbF9zb3VuZHNfbm90ZSIsImFiZG9taW5hbF9leGFtX25vdGUiLCJ0aHJvYXRfY2xlYXIiLCJ0aHJvYXRfY2xlYXJfbm90ZSIsInRtIiwidG1fbm90ZSIsIm5lY2tfc3VwcGxlIiwibmVja19zdXBwbGVfbm90ZSIsInRtX3JlZF9hbmRfYnVsZ2luZyIsInRtX3JlZF9hbmRfYnVsZ2luZ19ub3RlIiwiZXh1ZGF0ZXNfb25fdG9uc2lsIiwiZXh1ZGF0ZXNfb25fdG9uc2lsX25vdGUiLCJjZXJ2aWNhbF9hZGVub3BhdGh5IiwiY2VydmljYWxfYWRlbm9wYXRoeV9ub3RlIiwiaGVlbnRfbm90ZSIsImNuaWlfeF9paSIsImNuaWlfeF9paV9ub3RlIiwicG93ZXIiLCJwb3dlcl9ub3RlIiwic2Vuc2F0aW9uIiwic2Vuc2F0aW9uX25vdGUiLCJ0b25lIiwidG9uZV9ub3RlIiwiY2xfZXhhbSIsImNsX2V4YW1fbm90ZSIsIm5ldXJvbG9naWNhbF9leGFtX25vdGUiLCJub3RlcyIsImRpYWdub3NpcyIsImRpc2NoYXJnZV9pbnN0cnVjdGlvbiIsInNob3dUb2FzdCIsInBvc2l0aW9uIiwiZHVyYXRpb24iLCJtZXNzYWdlIiwicGx1Z2lucyIsInRvYXN0Iiwic2hvd1Nob3J0VG9wIiwic2hvd0xvbmdUb3AiLCJzaG93U2hvcnRCb3R0b20iLCJzaG93TG9uZ0JvdHRvbSIsImZpbHRlckNoYXJ0cyIsImNoYXJ0cyIsImNoYXJ0SWQiLCJmaWx0ZXIiLCJjaGFydCIsImV2ZW50TmFtZSIsImRpcmVjdGl2ZSIsIiRpb25pY1BvcHVwIiwiJHEiLCIkZWxlbSIsImN1cnJlbnRDaGFydCIsImFsbENoYXJ0cyIsIm5hdmlnYXRlVG9Ib21lIiwic2V0RGVmYXVsdCIsInNob3dQYXRpZW50SWRQb3B1cEFuZFByaW50Iiwic2hvdyIsInRlbXBsYXRlIiwidGl0bGUiLCJzY29wZSIsImJ1dHRvbnMiLCJ0eXBlIiwib25UYXAiLCJlIiwicHJldmVudERlZmF1bHQiLCJzaG93UGF0aWVudElkUG9wdXAiLCJmb3JtRmllbGREZWZhdWx0cyIsInJlc3AiLCJhYmRvIiwiY2FyZGlvdiIsIm5ldXJvIiwicGh5c2ljYWxfZXhhbV9tb2R1bGVzIiwiUmVzcGlyYXRvcnkgRXhhbSIsIkFiZG9taW5hbCBFeGFtIiwiSGVlbnQiLCJDYXJkaW8gVmFzY3VsYXIiLCJOZXVyb2xvZ2ljYWwgRXhhbSIsImZvcm1WYWx1ZVNldHRlciIsImRhdGFPYmoiLCJmbGFnIiwibW9tZW50IiwiZm9ybWF0IiwiZ2V0U2F2ZWRGaWVsZFZhbHVlIiwic2F2ZWRWYWx1ZXMiLCJ0YWdUeXBlIiwiaXNPYmplY3QiLCJfIiwiaXNFbXB0eSIsInBpY2siLCJzZXRNb2R1bGVTdGF0dXMiLCJwYXJhbV9kYXRhIiwiRXhhbWluYXRpb25Gb3JtIiwiJG1vZGVsVmFsdWUiLCJpc1N0cmluZyIsIiQkd3JpdGVNb2RlbFRvU2NvcGUiLCIkcmVuZGVyIiwic2V0Q2hlY2tCb3hTdGF0ZSIsImZpZWxkTmFtZSIsIiR2aWV3VmFsdWUiLCIkY29tbWl0Vmlld1ZhbHVlIiwic2V0Tm90ZVN0YXRlIiwiZmllbGQiLCJzdGF0ZV9kYXRhIiwiZGVmZXJyZWQiLCJkZWZlciIsImkiLCJsaXN0IiwibGlzdExlbiIsInByb21pc2UiLCJjaGVja0NoYXJ0IiwicmVqZWN0IiwiYWRkQ2hhcnQiLCJ1bnNoaWZ0IiwiZXh0ZW5kIiwiX2VyaWQiLCJEYXRlIiwiZGVmZXJyZWRGaWx0ZXJlZENoYXJ0cyIsImluaXROZXdDaGFydCIsImNoYXJ0U3RhdHVzIiwic3VjY2Vzc0RhdGEiLCJ1cGRhdGVkQ2hhcnRzIiwicG9wVXBSZXN1bHQiLCJuZXdDaGFydHNBcnJheSIsImluaXRFZGl0Q2hhcnQiLCJmb3JFYWNoIiwiZm9ybVNjb3BlIiwiJHNldFByaXN0aW5lIiwiJHNldFVudG91Y2hlZCIsImluaXRTYXZlQ2hhcnQiLCJyZWFzb24iLCJwcmVwUGFnZVRvUHJpbnQiLCJzMV9zMl9wcmVzZW50IiwiczMiLCJzNCIsIm11cm11ciIsImp2ZCIsIm9yZ2Fub21lZ2FseSIsIm5vX3NpZ25fb2ZfcGVyaXRvbml0aXMiLCJjZXJlYmVsbHVtX2V4YW0iLCJyZWZsZXgiLCJwYWdlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInByaW50RG9uZSIsInBhcmVudCIsImNoaWxkcmVuIiwicmVtb3ZlIiwiaW5pdFByaW50IiwicHJpbnRQYWdlIiwicGFyZW50RWxlbSIsImVsZW1lbnQiLCJwYXJlbnROb2RlIiwiZm9ybUVsZW0iLCJhcHBlbmQiLCJodG1sIiwiaW9uaWMiLCJQbGF0Zm9ybSIsInJlYWR5IiwiY29yZG92YSIsInByaW50ZXIiLCJwb3B1cFJlc3VsdCIsIiRpbnZhbGlkIiwiJHByaXN0aW5lIiwiJGRpcnR5IiwicmVzdHJpY3QiLCJsaW5rIiwiYXR0cnMiLCJlckl0ZW1Jc3ByaW50ZWQiLCJjIiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiZ2V0QXV0aGRVc2VyIiwiciIsInBpbiIsInVubG9ja1BpbiIsInZhbCIsInB1c2giLCIkd2luZG93IiwidXNlcktleSIsImVyZmlyZV9zZXNzaW9uX2tleSIsImxvY2FsU3RvcmFnZSIsImlzRGVmaW5lZCIsImdsb2JhbEF1dGgiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLFdBQUEsWUFBQSxRQUFBLG9CQUFBLFdBQUEsaUJBQUEsV0FFQUQsUUFBQUMsT0FBQSxXQUFBQyxRQUFpQyxpQkFBQSxxQkFBQSxvQkFBQSx1QkFBQSxTQUFBQyxlQUFBQyxtQkFBQUMsa0JBQUFDLHNCQU0vQkgsZUFBQUksTUFBQSxRQUNFQyxJQUFBLEtBQ0FDLFlBQUEsaUNBQ0FDLFlBQUEsSUFFRlAsZUFBQUksTUFBQSxTQUNFQyxJQUFBLFNBQ0FHLE9BQ0VDLEtBQ0VILFlBQUEsdUNBSU5OLGVBQUFJLE1BQUEsVUFDRUMsSUFBQSxVQUNBRyxPQUNFQyxLQUNFSCxZQUFBLHFDQUNBSSxXQUFBLGlCQUlOVixlQUFBSSxNQUFBLFVBQ0VDLElBQUEsVUFDQUcsT0FDRUMsS0FDRUgsWUFBQSxxQ0FDQUksV0FBQSxpQkFJTlYsZUFBQUksTUFBQSxpQkFDRUMsSUFBQSxZQUNBRyxPQUNFRyxhQUNFTCxZQUFBLDZDQUlOTixlQUFBSSxNQUFBLGFBQ0VDLElBQUEsUUFDQUcsT0FDRUcsYUFDRUMsU0FDRUMsV0FBQSxXQUNFLE9BQUEsSUFHSlAsWUFBQSxpQ0FDQUksV0FBQSxlQUlOVixlQUFBSSxNQUFBLGFBQ0VDLElBQUEsZ0JBQ0FHLE9BQ0VHLGFBQ0VDLFNBQ0VDLFdBQUEsV0FDRSxPQUFBLElBR0pQLFlBQUEsaUNBQ0FJLFdBQUEsZUFJTlYsZUFBQUksTUFBQSxhQUNFQyxJQUFBLFFBQ0FHLE9BQ0VHLGFBQ0VDLFNBSUVFLGFBQWUsU0FBQSxTQUFBQyxRQUNiLE1BQUFBLFFBQUFELGlCQUdKUixZQUFBLGlDQUNBSSxXQUFBLGVBSU5WLGVBQUFJLE1BQUEsV0FDRUMsSUFBQSxXQUNBRyxPQUNFQyxLQU1FSCxZQUFBLDJDQU1OTCxtQkFBQWUsVUFBQSxZQUNBYixxQkFBQWMsV0FBQSxHQUFBLEdBQ0FkLHFCQUFB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T0FBQSxVQUFBQyxRQUFnQyxpQkFBQSxlQU9oQ0YsUUFBQUMsT0FBQSxVQUFBMEgsUUFBQSxhQUE0QyxXQUUzQyxHQUFBMlAsY0FFQSxPQUFBQSIsImZpbGUiOiJzY3JpcHRzL2FwcC00NmIyOTJmYS5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdFUkNoYXJ0JywgWydpb25pYycsICdMb2NhbEZvcmFnZU1vZHVsZScsICdmaXJlYmFzZScsICdtZ2NyZWEubmdTdHJhcCcsICdFckF1dGgnXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdFUkNoYXJ0JykuY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCRsb2NhbEZvcmFnZVByb3ZpZGVyKSB7XG4gIC8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gIC8vICAgZW5hYmxlZDogdHJ1ZSxcbiAgLy8gICByZXF1aXJlQmFzZTogZmFsc2VcbiAgLy8gfSk7XG5cbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3Jvb3QnLCB7XG4gICAgdXJsOiAnL2EnLFxuICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wYXJ0aWFsL21lbnUvbWVudS5odG1sJyxcbiAgICBhYnN0cmFjdDogdHJ1ZVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ2xvZ2luJywge1xuICAgIHVybDogJy9sb2dpbicsXG4gICAgdmlld3M6IHtcbiAgICAgICdAJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFydGlhbC9sb2dpbi9sb2dpbi5odG1sJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdzaWdudXAnLCB7XG4gICAgdXJsOiAnL3NpZ251cCcsXG4gICAgdmlld3M6IHtcbiAgICAgICdAJzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFydGlhbC9zaWdudXAvc2lnbnVwLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnU2lnbnVwQ3RybCdcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgnZm9yZ290Jywge1xuICAgIHVybDogJy9mb3Jnb3QnLFxuICAgIHZpZXdzOiB7XG4gICAgICAnQCc6IHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3BhcnRpYWwvZm9yZ290L2ZvcmdvdC5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0ZvcmdvdEN0cmwnXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3Jvb3Quc2V0dGluZ3MnLCB7XG4gICAgdXJsOiAnL3NldHRpbmdzJyxcbiAgICB2aWV3czoge1xuICAgICAgJ3Jvb3RDb250ZW50Jzoge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFydGlhbC9zZXR0aW5ncy9zZXR0aW5ncy5odG1sJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdyb290LmZvcm0nLCB7XG4gICAgdXJsOiAnL2Zvcm0nLFxuICAgIHZpZXdzOiB7XG4gICAgICAncm9vdENvbnRlbnQnOiB7XG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAnaXNFZGl0TW9kZSc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFydGlhbC9mb3JtL2Zvcm0uaHRtbCcsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdGb3JtQ3RybCdcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAkc3RhdGVQcm92aWRlci5zdGF0ZSgncm9vdC5lZGl0Jywge1xuICAgIHVybDogJy9mb3JtLzpmb3JtSWQnLFxuICAgIHZpZXdzOiB7XG4gICAgICAncm9vdENvbnRlbnQnOiB7XG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAnaXNFZGl0TW9kZSc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wYXJ0aWFsL2Zvcm0vZm9ybS5odG1sJyxcbiAgICAgICAgY29udHJvbGxlcjogJ0Zvcm1DdHJsJ1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gICRzdGF0ZVByb3ZpZGVyLnN0YXRlKCdyb290LmhvbWUnLCB7XG4gICAgdXJsOiAnL2hvbWUnLFxuICAgIHZpZXdzOiB7XG4gICAgICAncm9vdENvbnRlbnQnOiB7XG4gICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAvLyAnd2FpdEZvckF1dGgnOiBmdW5jdGlvbihBdXRoKXtcbiAgICAgICAgICAvLyAgIHJldHVybiBBdXRoLiR3YWl0Rm9yQXV0aCgpO1xuICAgICAgICAgIC8vIH1cbiAgICAgICAgICAnaXNVc2VyQXV0aGQnOiBmdW5jdGlvbihlcnVzZXIpe1xuICAgICAgICAgICAgcmV0dXJuIGVydXNlci5pc1VzZXJBdXRoZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3BhcnRpYWwvaG9tZS9ob21lLmh0bWwnLFxuICAgICAgICBjb250cm9sbGVyOiAnSG9tZUN0cmwnXG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoJ3BpbmNvZGUnLCB7XG4gICAgdXJsOiAnL3BpbmNvZGUnLFxuICAgIHZpZXdzOiB7XG4gICAgICAnQCc6IHtcbiAgICAgICAgLy8gcmVzb2x2ZToge1xuICAgICAgICAvLyAgICAgJ3dhaXRGb3JBdXRoJzogZnVuY3Rpb24oQXV0aCl7XG4gICAgICAgIC8vICAgICAgIHJldHVybiBBdXRoLiR3YWl0Rm9yQXV0aCgpO1xuICAgICAgICAvLyAgICAgfVxuICAgICAgICAvLyB9LFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGFydGlhbC9waW5jb2RlL3BpbmNvZGUuaHRtbCdcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gIH0pO1xuXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9waW5jb2RlJyk7XG4gICRsb2NhbEZvcmFnZVByb3ZpZGVyLnNldE5vdGlmeSh0cnVlLCB0cnVlKTsgLy8gaXRlbVNldCwgaXRlbVJlbW92ZVxuICAkbG9jYWxGb3JhZ2VQcm92aWRlci5jb25maWcoe1xuICAgIGRyaXZlcjogd2luZG93LmxvY2FsZm9yYWdlLkxPQ0FMU1RPUkFHRSxcbiAgICBuYW1lICAgICAgICA6ICdFUmFfJyxcbiAgICBzdG9yZU5hbWUgICA6ICdFUmFMb2NhbFN0b3JlJyxcbiAgICBkZXNjcmlwdGlvbiA6ICdFUmEgbG9jYWwgZGF0YS4nXG4gIH0pO1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdFUkNoYXJ0JykucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsJHN0YXRlLCRzdGF0ZVBhcmFtcywkbG9nLCRmaXJlYmFzZSwkZmlyZWJhc2VBdXRoLGVydXNlcikge1xuXG4gICRyb290U2NvcGUuJHN0YXRlPSRzdGF0ZTtcbiAgJHJvb3RTY29wZS4kc3RhdGVQYXJhbXM9JHN0YXRlUGFyYW1zO1xuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBcbiAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuICAgICAgICAgICAgICAgICAgICRsb2cuaW5mbygnLS1TdGF0ZUNoYW5nZVN0YXJ0LS0tICcrYW5ndWxhci50b0pzb24oZXZlbnQpKTtcbiAgICAgICAgICAgICAgICAgfSk7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgXG4gICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKXtcbiAgICAgICAgICAgICAgICAgICAkbG9nLmluZm8oJy0tLVN0YXRlQ2hhbmdlU3VjY2Vzcy0tLSAnK2FuZ3VsYXIudG9Kc29uKGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgIH0pO1xuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCBcbiAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpe1xuICAgICAgICAgICAgICAgICAgICRsb2cuZXJyb3IoJ2V2ZW50ICcrIGFuZ3VsYXIudG9Kc29uKGV2ZW50KSApO1xuICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbG9naW4nKTtcbiAgICAgICAgICAgICAgICAgfSk7XG5cblxuICAkcm9vdFNjb3BlLnNhZmVBcHBseSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgdmFyIHBoYXNlID0gJHJvb3RTY29wZS4kJHBoYXNlO1xuICAgIGlmIChwaGFzZSA9PT0gJyRhcHBseScgfHwgcGhhc2UgPT09ICckZGlnZXN0Jykge1xuICAgICAgaWYgKGZuICYmICh0eXBlb2YoZm4pID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICBmbigpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRhcHBseShmbik7XG4gICAgfVxuICB9O1xuXG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5jb250cm9sbGVyKCdNZW51Q3RybCcsZnVuY3Rpb24oJHNjb3BlLCRmaXJlYmFzZUF1dGgsJHRpbWVvdXQsJHN0YXRlKXtcbiAgdmFyIGVyZmlyZSA9IG5ldyBGaXJlYmFzZSgnaHR0cHM6Ly9lcmEuZmlyZWJhc2Vpby5jb20vdXNlcnMnKTtcbiAgdmFyIGF1dGhPYmogPSAkZmlyZWJhc2VBdXRoKGVyZmlyZSk7XG4gIHRoaXMubG9nb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgIGNvbnNvbGUubG9nKCdzaG91bGQgbG9nIG91dCcpO1xuICAgICAgYXV0aE9iai4kdW5hdXRoKCk7XG4gICAgICAkdGltZW91dCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJylcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdFUkNoYXJ0JykuY29udHJvbGxlcignTG9naW5DdHJsJyxmdW5jdGlvbigkc2NvcGUsICR0aW1lb3V0LCAkZmlyZWJhc2UsICRmaXJlYmFzZUF1dGgsICRzdGF0ZSwgZXJ1c2VyKSB7XG4gIHZhciBlcmZpcmV1c2VycyA9IG5ldyBGaXJlYmFzZSgnaHR0cHM6Ly9lcmEuZmlyZWJhc2Vpby5jb20vdXNlcnMnKTtcbiAgdmFyIGVyZmlyZXN5bmMgPSAkZmlyZWJhc2UoZXJmaXJldXNlcnMpLiRhc09iamVjdCgpO1xuICAkc2NvcGUuYXV0aE9iaiA9ICRmaXJlYmFzZUF1dGgoZXJmaXJldXNlcnMpO1xuICB2YXIgYXV0aERhdGEgPSAkc2NvcGUuYXV0aE9iai4kZ2V0QXV0aCgpO1xuICB2YXIgdXNlcnMgPSBbXTtcblxuICAkc2NvcGUuc2lnbnVwID0ge307XG4gICRzY29wZS5jcmVkID0ge307XG4gICRzY29wZS51c2VyID0ge1xuICAgIGVydWlkIDogbnVsbFxuICB9O1xuXG4gIGlmIChhdXRoRGF0YSkge1xuICAgIGNvbnNvbGUubG9nKFwiQWxyZWFkeSBpbiBhczpcIiwgYXV0aERhdGEudWlkKTtcbiAgICBjb25zb2xlLmxvZyhhdXRoRGF0YSlcbiAgICAkc2NvcGUudXNlci5lcnVpZCA9IGF1dGhEYXRhLnVpZDtcbiAgICBjb25zb2xlLmxvZygkc2NvcGUudXNlcik7XG4gICAgJHN0YXRlLmdvKCdwaW5jb2RlJyk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJMb2dnZWQgb3V0XCIpO1xuICB9XG5cbiAgdGhpcy5sb2dpbiA9IGxvZ2luO1xuICB0aGlzLmxvZ291dCA9IGxvZ291dDtcblxuICBmdW5jdGlvbiBsb2dpbigpe1xuICAgIC8vICRzdGF0ZS5nbygncGluY29kZScpO1xuICAgIC8vIHJldHVybiBmYWxzZTtcbiAgICAkc2NvcGUuYXV0aE9iai4kYXV0aFdpdGhQYXNzd29yZCh7XG4gICAgICBlbWFpbDogJHNjb3BlLmNyZWQuZW1haWwsXG4gICAgICBwYXNzd29yZDogJHNjb3BlLmNyZWQucGFzc1xuICAgIH0pLnRoZW4oZnVuY3Rpb24oYXV0aERhdGFhKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkxvZ2dlZCBpbiBhczpcIiwgYXV0aERhdGFhLnVpZCk7XG4gICAgICB2YXIgbnVVID0ge1xuICAgICAgICBfZXJ1aWQ6IGF1dGhEYXRhYS51aWRcbiAgICAgIH07XG4gICAgICBlcnVzZXIuY3JlYXRlVXNlcihudVUsSW1tdXRhYmxlLmZyb21KUyhhdXRoRGF0YWEpKS50aGVuKGZ1bmN0aW9uKG5ld1VzZXJDcmVhdGVkRGF0YSl7XG4gICAgICAgIGNvbnNvbGUubG9nKCd1c2VyIGlzIGNyZWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICRzY29wZS5jcmVkID0ge31cbiAgICAgICR0aW1lb3V0KCBmdW5jdGlvbigpe1xuICAgICAgICAkc3RhdGUuZ28oJ3BpbmNvZGUnKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdXRoZW50aWNhdGlvbiBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gbG9nb3V0KCl7XG4gICAgY29uc29sZS5sb2coJ3Nob3VsZCBsb2cgb3V0Jyk7XG4gICAgJHNjb3BlLmF1dGhPYmouJHVuYXV0aCgpO1xuICAgICR0aW1lb3V0KCBmdW5jdGlvbigpe1xuICAgICAgJHN0YXRlLmdvKCdyb290LmxvZ2luJylcbiAgICB9KTtcbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnRVJDaGFydCcpLmNvbnRyb2xsZXIoJ1NpZ251cEN0cmwnLGZ1bmN0aW9uKCRzY29wZSwgJHRpbWVvdXQsICRmaXJlYmFzZSwgJGZpcmViYXNlQXV0aCwgJHN0YXRlLCBlcnVzZXIpe1xuICAgIHZhciBlcmZpcmVfYmFzZV91cmwgPSBuZXcgRmlyZWJhc2UoJ2h0dHBzOi8vZXJhLmZpcmViYXNlaW8uY29tL3VzZXJzJyk7XG4gICAgdmFyIGVyZmlyZV91c2Vyc19zeW5jID0gJGZpcmViYXNlKGVyZmlyZV9iYXNlX3VybCk7XG4gICAgJHNjb3BlLmF1dGhPYmogPSAkZmlyZWJhc2VBdXRoKGVyZmlyZV9iYXNlX3VybCk7XG4gICAgdmFyIGF1dGhEYXRhID0gJHNjb3BlLmF1dGhPYmouJGdldEF1dGgoKTtcbiAgICB2YXIgdXNlcnMgPSBbXTtcbiAgICB2YXIgZXJfdXNlciA9IHt9O1xuXG4gICAgJHNjb3BlLnNpZ251cCA9IHt9O1xuICAgICRzY29wZS5jcmVkID0ge307XG4gICAgJHNjb3BlLnVzZXIgPSB7XG4gICAgICAgIGVydWlkIDogbnVsbFxuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbnVwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgJHNjb3BlLmF1dGhPYmouJGNyZWF0ZVVzZXIoe1xuICAgICAgICAgIGVtYWlsOiAkc2NvcGUuc2lnbnVwLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiAkc2NvcGUuc2lnbnVwLnBhc3MsXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24odXNlckRhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgXCIgKyB1c2VyRGF0YS51aWQgKyBcIiBjcmVhdGVkIHN1Y2Nlc3NmdWxseSFcIik7XG4gICAgICAgICAgdmFyIG5ld1VpZCA9IHVzZXJEYXRhLnVpZDtcbiAgICAgICAgICB2YXIgbmV3VXNlciA9IHtcbiAgICAgICAgICAgICAgICAgIF9lcnVpZDogdXNlckRhdGEudWlkLFxuICAgICAgICAgICAgICAgICAgaG9zcGl0YWw6ICRzY29wZS5zaWdudXAuaG9zcGl0YWwsXG4gICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuc2lnbnVwLm5vbSxcbiAgICAgICAgICAgICAgICAgIHByb3ZpbmNlOiAkc2NvcGUuc2lnbnVwLnByb3ZpbmNlIHx8IG51bGxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICBlcmZpcmVfdXNlcnNfc3luYy4kcHVzaChuZXdVc2VyKS50aGVuKGZ1bmN0aW9uKHJlZil7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZWYua2V5KCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gJHNjb3BlLmF1dGhPYmouJGF1dGhXaXRoUGFzc3dvcmQoe1xuICAgICAgICAgICAgZW1haWw6ICRzY29wZS5zaWdudXAuZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZDogJHNjb3BlLnNpZ251cC5wYXNzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oYXV0aERhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvZ2dlZCBpbiBhczpcIiwgYXV0aERhdGEudWlkKTtcbiAgICAgICAgICAkc2NvcGUudXNlci5lcnVpZCA9IGF1dGhEYXRhLnVpZDtcbiAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUudXNlcik7XG4gICAgICAgICAgY29uc29sZS5sb2coYXV0aERhdGEpO1xuXG4gICAgICAgICAgJHRpbWVvdXQoIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyb290LmhvbWUnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICRzY29wZS5zaWdudXAgPSB7fTtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3I6IFwiLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5jb250cm9sbGVyKCdGb3Jnb3RDdHJsJyxmdW5jdGlvbigkc2NvcGUpe1xuXG5cbn0pO1xuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5jb250cm9sbGVyKCdTZXR0aW5nc0N0cmwnLGZ1bmN0aW9uKCRzY29wZSl7XG5cblxufSk7XG5hbmd1bGFyLm1vZHVsZSgnRVJDaGFydCcpLmNvbnRyb2xsZXIoJ0Zvcm1DdHJsJyxmdW5jdGlvbigkc2NvcGUsIGNhY2hlLCBlcnV0aWxzLCAkc3RhdGUsIGlzRWRpdE1vZGUsICRzdGF0ZVBhcmFtcyl7XG4gICAgY29uc29sZS5sb2coJHN0YXRlKVxuICAgIGlmIChpc0VkaXRNb2RlKXtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Nob3VsZCBicm9hZGNhc3Q6IGlzRWRpdCcpXG4gICAgICBlcnV0aWxzLmJyb2FkY2FzdFBhZ2VFdmVudCgnaXNFZGl0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Nob3VsZCBicm9hZGNhc3Q6IGlzQWRkJylcbiAgICAgIGVydXRpbHMuYnJvYWRjYXN0UGFnZUV2ZW50KCdpc0FkZCcpO1xuICAgIH1cbiAgICAkc2NvcGUucHJpbnQgPSBmdW5jdGlvbigpe1xuICAgICAgZXJ1dGlscy5icm9hZGNhc3RQYWdlRXZlbnQoJ1ByaW50Jyk7XG4gICAgfTtcbiAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZiAoJHN0YXRlLmlzKCdyb290LmVkaXQnKSl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzYXZpbmc6IG9uIGVkaXQnKVxuICAgICAgICBlcnV0aWxzLmJyb2FkY2FzdFBhZ2VFdmVudCgnVXBkYXRlQ2hhcnQnKTtcbiAgICAgIH0gZWxzZSBpZiAoJHN0YXRlLmlzKCdyb290LmZvcm0nKSl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzYXZpbmc6IG9uIGNyZWF0ZScpXG4gICAgICAgIGVydXRpbHMuYnJvYWRjYXN0UGFnZUV2ZW50KCdTYXZlQ2hhcnQnKTtcbiAgICAgIH1cbiAgICB9O1xuICAgICRzY29wZS5nb0hvbWUgPSBmdW5jdGlvbigpe1xuICAgICAgZXJ1dGlscy5icm9hZGNhc3RQYWdlRXZlbnQoJ0dvSG9tZScpO1xuICAgIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5jb250cm9sbGVyKCdFZGl0Q3RybCcsZnVuY3Rpb24oJHNjb3BlKXtcblxuXG59KTtcbmFuZ3VsYXIubW9kdWxlKCdFUkNoYXJ0JykuY29udHJvbGxlcignSG9tZUN0cmwnLGZ1bmN0aW9uKCRzY29wZSwgY2FjaGUsICRpbnRlcnZhbCwgJHN0YXRlLCAkdGltZW91dCwgJGZpcmViYXNlLCAkZmlyZWJhc2VBdXRoLCBlcnVzZXIsICR3aW5kb3csIGlzVXNlckF1dGhkKXtcbiAgdmFyIGVyZmlyZV9iYXNlX3VybCA9IG5ldyBGaXJlYmFzZSgnaHR0cHM6Ly9lcmEuZmlyZWJhc2Vpby5jb20vdXNlcnMnKTtcbiAgdmFyIGVyZmlyZV91c2Vyc19zeW5jID0gJGZpcmViYXNlKGVyZmlyZV9iYXNlX3VybCk7XG4gICRzY29wZS5hdXRoT2JqID0gJGZpcmViYXNlQXV0aChlcmZpcmVfYmFzZV91cmwpO1xuICB2YXIgYXV0aERhdGEgPSAkc2NvcGUuYXV0aE9iai4kZ2V0QXV0aCgpO1xuICB2YXIgdXNlcnMgPSBbXTtcbiAgdmFyIGVyX3VzZXIgPSB7fTtcblxuICBlcl91c2VyID0gSW1tdXRhYmxlLmZyb21KUyhhbmd1bGFyLmZyb21Kc29uKGVydXNlci5nZXRMb2NhbEF1dGhVc2VyKCkpKTtcbiAgY29uc29sZS5sb2coZXJfdXNlci5nZXQoJ3Rva2VuJykpO1xuXG4gICRzY29wZS5zaG93TGlzdERlbGV0ZSA9IGZhbHNlO1xuICB2YXIgYWxsRXhGb3JtcyA9IFtdO1xuICB2YXIgaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgY2FjaGUuZ2V0TG9jYWxEYXRhKCkudGhlbihmdW5jdGlvbihnZXRMb2NhbERhdGFTdWNjZXNzKXtcbiAgICAgIGlmIChnZXRMb2NhbERhdGFTdWNjZXNzLmxlbmd0aCl7XG4gICAgICAgICRzY29wZS5mb3JtcyA9IGdldExvY2FsRGF0YVN1Y2Nlc3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUuZm9ybXMgPSBhbGxFeEZvcm1zO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICB2YXIgc3luY1Njb3BlVG9Mb2NhbCA9IGZ1bmN0aW9uKCl7XG4gICAgY2FjaGUud3JpdGVMb2NhbERhdGEoYWxsRXhGb3JtcykudGhlbihcbiAgICAgIGZ1bmN0aW9uKHNldFN1Y2Nlc3Mpe1xuICAgICAgICBpbml0KCk7XG4gICAgICB9XG4gICAgKTtcbiAgfTtcbiAgdmFyIGRlbGV0ZUl0ZW0gPSBmdW5jdGlvbihpdGVtLCBpbmRleCl7XG4gICAgaWYgKGFsbEV4Rm9ybXMubGVuZ3RoKXtcbiAgICAgIGFsbEV4Rm9ybXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHN5bmNTY29wZVRvTG9jYWwoKTtcbiAgICB9XG4gIH07XG4gIHZhciBwcmVwRm9yRGVsZXRlID0gZnVuY3Rpb24oaXRlbSwgaW5kZXgpe1xuICAgIGNhY2hlLmdldExvY2FsRGF0YSgpLnRoZW4oZnVuY3Rpb24oZ2V0TG9jYWxEYXRhU3VjY2Vzcyl7XG4gICAgICBpZiAoIWdldExvY2FsRGF0YVN1Y2Nlc3MubGVuZ3RoKXtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxsRXhGb3JtcyA9IGdldExvY2FsRGF0YVN1Y2Nlc3M7XG4gICAgICAgICAgZGVsZXRlSXRlbShpdGVtLCBpbmRleCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdldExvY2FsRGF0YSA9IGZ1bmN0aW9uKCl7XG4gICAgY2FjaGUuZ2V0TG9jYWxEYXRhKCkudGhlbihmdW5jdGlvbihnZXRMb2NhbERhdGFTdWNjZXNzKXtcbiAgICAgIGlmICghZ2V0TG9jYWxEYXRhU3VjY2Vzcyl7XG4vLyAgICAgICAgICAkaW50ZXJ2YWwoZ2V0TG9jYWxEYXRhLCAxMDAwLCAzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coZ2V0TG9jYWxEYXRhU3VjY2VzcylcbiAgICAgICAgICBhbGxFeEZvcm1zID0gZ2V0TG9jYWxEYXRhU3VjY2VzcztcbiAgICAgICAgICAkc2NvcGUuZm9ybXMgPSBnZXRMb2NhbERhdGFTdWNjZXNzO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gICRzY29wZS5yZWZyZXNoID0gZnVuY3Rpb24oKXtcbiAgICAgIGdldExvY2FsRGF0YSgpO1xuICB9O1xuICAkc2NvcGUuY2xlYXJBbGwgPSBmdW5jdGlvbihkYXRhKXtcbiAgICBjYWNoZS5jbGVhckFsbENhY2hlZCgpO1xuICAgICRzY29wZS5mb3JtcyA9IFtdO1xuICB9O1xuICAkc2NvcGUuY2FuU3dpcGVMaXN0ID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgJHNjb3BlLmRlbGV0ZUl0ZW0gPSBmdW5jdGlvbihpdGVtLCBpbmRleCl7XG4gICAgaWYgKCFpbmRleCAmJiBhbGxFeEZvcm1zLmxlbmd0aCA9PT0gMSl7XG4gICAgICBhbGxFeEZvcm1zID0gW107XG4gICAgICBzeW5jU2NvcGVUb0xvY2FsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXBGb3JEZWxldGUoaXRlbSwgaW5kZXgpO1xuICAgIH1cbiAgfTtcbiAgJHNjb3BlLmVkaXRJdGVtID0gZnVuY3Rpb24oZm9ybSl7XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJ3Jvb3QuZWRpdCcsIHtmb3JtSWQ6IGZvcm0uaWR9KTtcbiAgICB9KTtcbiAgfTtcblxuICBpbml0KCk7XG5cbiAgJHNjb3BlLiRvbignQ2FjaGVVcGRhdGU6VXBkYXRlZCcsIGZ1bmN0aW9uKGV2ZW50LCBhcmdzKXtcbiAgICBpbml0KCk7XG4gIH0pO1xuXG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5mYWN0b3J5KCdjYWNoZScsZnVuY3Rpb24oJGxvY2FsRm9yYWdlLCAkcm9vdFNjb3BlKSB7XG5cblx0dmFyIGNhY2hlID0ge1xuICAgICAgICBnZXRTdG9yZUxlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRsb2NhbEZvcmFnZS5sZW5ndGgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3RvcmVLZXlzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGxvY2FsRm9yYWdlLmtleXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGVMb2NhbERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gJGxvY2FsRm9yYWdlLnNldEl0ZW0oJ0V4Rm9ybXMnLCBkYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TG9jYWxEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGxvY2FsRm9yYWdlLmdldEl0ZW0oJ0V4Rm9ybXMnKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXJDYWNoZWRJdGVtOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuICRsb2NhbEZvcmFnZS5yZW1vdmVJdGVtKGl0ZW0pO1xuICAgICAgICB9LFxuICAgICAgICBjbGVhckFsbENhY2hlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRsb2NhbEZvcmFnZS5jbGVhcigpO1xuICAgICAgICB9LFxuICAgICAgICBicm9hZGNhc3RDYWNoZUV2ZW50OiBmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYnJvYWRjYXN0aW5nOiAnICsgZXZlbnRUeXBlKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnQ2FjaGVVcGRhdGU6JyArIGV2ZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cdHJldHVybiBjYWNoZTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnRVJDaGFydCcpLmZhY3RvcnkoJ2NvbnN0YW50cycsZnVuY3Rpb24oKSB7XG5cblx0dmFyIGNvbnN0YW50cyA9IHtcbiAgICAgICAgb3B0aW9ucyA6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ25vdCBhcHBsaWNhYmxlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0Fibm9ybWFsJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgaGVlbnQgOiB7XG4gICAgICAgICAgICBjYXRfbmFtZTogJ2hlZW50JyxcbiAgICAgICAgICAgIGZpZWxkczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInRocm9hdF9jbGVhclwiLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVGhyb2F0IGNsZWFyXCIsXG4gICAgICAgICAgICAgICAgICBtb2RlbDogXCJ0aHJvYXRDbGVhclwiLFxuICAgICAgICAgICAgICAgICAgbm90ZV90b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJ0aHJvYXRDbGVhck5vdGVcIixcbiAgICAgICAgICAgICAgICAgIGNhdDogXCJoZWVudFwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwidG1cIixcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlRNIG5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IFwidG1cIixcbiAgICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsX25vdGU6IFwidG1Ob3RlXCIsXG4gICAgICAgICAgICAgICAgICBjYXQ6IFwiaGVlbnRcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIm5lY2tfc3VwcGxlXCIsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogXCJOZWNrIHN1cHBsZVwiLFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IFwibmVja1N1cHBsZVwiLFxuICAgICAgICAgICAgICAgICAgbm90ZV90b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJuZWNrU3VwcGxlTm90ZVwiLFxuICAgICAgICAgICAgICAgICAgY2F0OiBcImhlZW50XCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXCJ0bV9yZWRfYW5kX2J1bGdpbmdcIixcbiAgICAgICAgICAgICAgLy8gICAgIGxhYmVsOiBcIlRNIHJlZCBhbmQgYnVsZ2luZ1wiLFxuICAgICAgICAgICAgICAvLyAgICAgbW9kZWw6IFwidG1SZWRBbmRCdWxnaW5nXCIsXG4gICAgICAgICAgICAgIC8vICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgIC8vICAgICBtb2RlbF9ub3RlOiBcInRtUmVkQW5kQnVsZ2luZ05vdGVcIixcbiAgICAgICAgICAgICAgLy8gICAgIGNhdDogXCJoZWVudFwiXG4gICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiZXh1ZGF0ZXNfb25fdG9uc2lsXCIsXG4gICAgICAgICAgICAgIC8vICAgICBsYWJlbDogXCJFeHVkYXRlcyBvbiB0b25zaWxcIixcbiAgICAgICAgICAgICAgLy8gICAgIG1vZGVsOiBcImV4dWRhdGVzT25Ub25zaWxcIixcbiAgICAgICAgICAgICAgLy8gICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgLy8gICAgIG1vZGVsX25vdGU6IFwiZXh1ZGF0ZXNPblRvbnNpbE5vdGVcIixcbiAgICAgICAgICAgICAgLy8gICAgIGNhdDogXCJoZWVudFwiXG4gICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiY2VydmljYWxfYWRlbm9wYXRoeVwiLFxuICAgICAgICAgICAgICAvLyAgICAgbGFiZWw6IFwiQ2VydmljYWwgYWRlbm9wYXRoeVwiLFxuICAgICAgICAgICAgICAvLyAgICAgbW9kZWw6IFwiY2VydmljYWxBZGVub3BhdGh5XCIsXG4gICAgICAgICAgICAgIC8vICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgIC8vICAgICBtb2RlbF9ub3RlOiBcImNlcnZpY2FsQWRlbm9wYXRoeU5vdGVcIixcbiAgICAgICAgICAgICAgLy8gICAgIGNhdDogXCJoZWVudFwiXG4gICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5vdGU6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhlZW50X25vdGVcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIZWVudCBOb3RlXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwiaGVlbnROb3RlXCIsXG4gICAgICAgICAgICAgICAgbm90ZV90b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNhdDogXCJoZWVudFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIHJlc3BpcmF0b3J5X2V4YW0gOiB7XG4gICAgICAgICAgICBjYXRfbmFtZTogJ3Jlc3BpcmF0b3J5X2V4YW0nLFxuICAgICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJnb29kX2JpbGF0X2FfZVwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkdvb2QgYmlsYXQgQS9FXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwiZ29vZEJpbGF0QV9FXCIsXG4gICAgICAgICAgICAgICAgbm90ZV90b2dnbGVfZmxhZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJnb29kQmlsYXRBRU5vdGVcIixcbiAgICAgICAgICAgICAgICBjYXQ6IFwicmVzcGlyYXRvcnlfZXhhbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiZGVjcmVhc2VfYV9lXCIsXG4gICAgICAgICAgICAvLyAgICAgbGFiZWw6IFwiRGVjcmVhc2UgQS9FXCIsXG4gICAgICAgICAgICAvLyAgICAgbW9kZWw6IFwiZGVjcmVhc2VBX0VcIixcbiAgICAgICAgICAgIC8vICAgICBub3RlX3RvZ2dsZV9mbGFnOiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICBtb2RlbF9ub3RlOiBcImRlY3JlYXNlQUVOb3RlXCIsXG4gICAgICAgICAgICAvLyAgICAgY2F0OiBcInJlc3BpcmF0b3J5X2V4YW1cIlxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIndoZWV6aW5nXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiTm8gV2hlZXppbmdcIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJ3aGVlemluZ1wiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlX2ZsYWc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1vZGVsX25vdGU6IFwid2hlZXppbmdOb3RlXCIsXG4gICAgICAgICAgICAgICAgY2F0OiBcInJlc3BpcmF0b3J5X2V4YW1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNyYWNrbGVcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJObyBDcmFja2xlXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwiY3JhY2tsZVwiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlX2ZsYWc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1vZGVsX25vdGU6IFwiY3JhY2tsZU5vdGVcIixcbiAgICAgICAgICAgICAgICBjYXQ6IFwicmVzcGlyYXRvcnlfZXhhbVwiXG4gICAgICAgICAgICB9XSxcbiAgICAgICAgICAgIG5vdGU6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInJlc3BpcmF0b3J5X2V4YW1fbm90ZVwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlJlc3BpcmF0b3J5IEV4YW1cIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJyZXNwaXJhdG9yeUV4YW1Ob3RlXCIsXG4gICAgICAgICAgICAgICAgbm90ZV90b2dnbGVfZmxhZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2F0OiBcInJlc3BpcmF0b3J5X2V4YW1cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFiZG9taW5hbF9leGFtIDoge1xuICAgICAgICAgICAgY2F0X25hbWU6ICdhYmRvbWluYWxfZXhhbScsXG4gICAgICAgICAgICBmaWVsZHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNvZnRfYW5kX25vbl90ZW5kZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJTb2Z0IGFuZCBub24gdGVuZGVyXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwic29mdEFuZE5vblRlbmRlclwiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcInNvZnRBbmROb25UZW5kZXJOb3RlXCIsXG4gICAgICAgICAgICAgICAgY2F0OiBcImFiZG9taW5hbF9leGFtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJic3BcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJCU1BcIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJic3BcIixcbiAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJic3BOb3RlXCIsXG4gICAgICAgICAgICAgICAgY2F0OiBcImFiZG9taW5hbF9leGFtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJtYXNzXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiTm8gbWFzc1wiLFxuICAgICAgICAgICAgICAgIG1vZGVsOiBcIm1hc3NcIixcbiAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJtYXNzTm90ZVwiLFxuICAgICAgICAgICAgICAgIGNhdDogXCJhYmRvbWluYWxfZXhhbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3JnYW5vbWVnYWx5XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiTm8gb3JnYW5vbWVnYWx5XCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwib3JnYW5vbWVnYWx5XCIsXG4gICAgICAgICAgICAgICAgbm90ZV90b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1vZGVsX25vdGU6IFwib3JnYW5vbWVnYWx5Tm90ZVwiLFxuICAgICAgICAgICAgICAgIGNhdDogXCJhYmRvbWluYWxfZXhhbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibm9fc2lnbl9vZl9wZXJpdG9uaXRpc1wiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk5vIHNpZ24gb2YgcGVyaXRvbml0aXNcIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJub1NpZ25PZlBlcml0b25pdGlzXCIsXG4gICAgICAgICAgICAgICAgbm90ZV90b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1vZGVsX25vdGU6IFwibm9TaWduT2ZQZXJpdG9uaXRpc05vdGVcIixcbiAgICAgICAgICAgICAgICBjYXQ6IFwiYWJkb21pbmFsX2V4YW1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZwcF9hbmRfZXF1YWxcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJGUFAgYW5kIGVxdWFsXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwiZnBwQW5kRXF1YWxcIixcbiAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJmcHBBbmRFcXVhbE5vdGVcIixcbiAgICAgICAgICAgICAgICBjYXQ6IFwiYWJkb21pbmFsX2V4YW1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICBuYW1lOiBcImRpc3RlbmRlZFwiLFxuICAgICAgICAgICAgLy8gICAgIGxhYmVsOiBcIkRpc3RlbmRlZFwiLFxuICAgICAgICAgICAgLy8gICAgIG1vZGVsOiBcImRpc3RlbmRlZFwiLFxuICAgICAgICAgICAgLy8gICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICBtb2RlbF9ub3RlOiBcImRpc3RlbmRlZE5vdGVcIixcbiAgICAgICAgICAgIC8vICAgICBjYXQ6IFwiYWJkb21pbmFsX2V4YW1cIlxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICBuYW1lOiBcInRlbmRlclwiLFxuICAgICAgICAgICAgLy8gICAgIGxhYmVsOiBcIlRlbmRlclwiLFxuICAgICAgICAgICAgLy8gICAgIG1vZGVsOiBcInRlbmRlclwiLFxuICAgICAgICAgICAgLy8gICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgIC8vICAgICBtb2RlbF9ub3RlOiBcInRlbmRlck5vdGVcIixcbiAgICAgICAgICAgIC8vICAgICBjYXQ6IFwiYWJkb21pbmFsX2V4YW1cIlxuICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICBuYW1lOiBcImRlY3JlYXNlX2Jvd2VsX3NvdW5kc1wiLFxuICAgICAgICAgICAgLy8gICAgIGxhYmVsOiBcIkRlY3JlYXNlIGJvd2VsIHNvdW5kc1wiLFxuICAgICAgICAgICAgLy8gICAgIG1vZGVsOiBcImRlY3JlYXNlQm93ZWxTb3VuZHNcIixcbiAgICAgICAgICAgIC8vICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAvLyAgICAgbW9kZWxfbm90ZTogXCJkZWNyZWFzZUJvd2VsU291bmRzTm90ZVwiLFxuICAgICAgICAgICAgLy8gICAgIGNhdDogXCJhYmRvbWluYWxfZXhhbVwiXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgbm90ZToge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWJkb21pbmFsX2V4YW1fbm90ZVwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFiZG9taW5hbCBFeGFtIE5vdGVzXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwiYWJkb21pbmFsRXhhbU5vdGVcIixcbiAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2F0OiBcImFiZG9taW5hbF9leGFtXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2FyZGlvX3Zhc2N1bGFyIDoge1xuICAgICAgICAgICAgY2F0X25hbWU6ICdjYXJkaW9fdmFzY3VsYXInLFxuICAgICAgICAgICAgZmllbGRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwiczFfczJfcHJlc2VudFwiLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUzEgYW5kIFMyIHByZXNlbnRcIixcbiAgICAgICAgICAgICAgICAgIG1vZGVsOiBcInMxUzJQcmVzZW50XCIsXG4gICAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcInMxUzJQcmVzZW50Tm90ZVwiLFxuICAgICAgICAgICAgICAgICAgY2F0OiBcImNhcmRpb192YXNjdWxhclwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwiczNcIixcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIk5vIFMzXCIsXG4gICAgICAgICAgICAgICAgICBtb2RlbDogXCJzM1wiLFxuICAgICAgICAgICAgICAgICAgbm90ZV90b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJzM05vdGVcIixcbiAgICAgICAgICAgICAgICAgIGNhdDogXCJjYXJkaW9fdmFzY3VsYXJcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInM0XCIsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogXCJObyBTNFwiLFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IFwiczRcIixcbiAgICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsX25vdGU6IFwiczROb3RlXCIsXG4gICAgICAgICAgICAgICAgICBjYXQ6IFwiY2FyZGlvX3Zhc2N1bGFyXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJtdXJtdXJcIixcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIk5vIG11cm11clwiLFxuICAgICAgICAgICAgICAgICAgbW9kZWw6IFwibXVybXVyXCIsXG4gICAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcIm11cm11ck5vdGVcIixcbiAgICAgICAgICAgICAgICAgIGNhdDogXCJjYXJkaW9fdmFzY3VsYXJcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInBwcFwiLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUFBQXCIsXG4gICAgICAgICAgICAgICAgICBtb2RlbDogXCJwcHBcIixcbiAgICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsX25vdGU6IFwicHBwTm90ZVwiLFxuICAgICAgICAgICAgICAgICAgY2F0OiBcImNhcmRpb192YXNjdWxhclwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IFwianZkXCIsXG4gICAgICAgICAgICAgICAgICBsYWJlbDogXCJObyBKVkRcIixcbiAgICAgICAgICAgICAgICAgIG1vZGVsOiBcImp2ZFwiLFxuICAgICAgICAgICAgICAgICAgbm90ZV90b2dnbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJqdmROb3RlXCIsXG4gICAgICAgICAgICAgICAgICBjYXQ6IFwiY2FyZGlvX3Zhc2N1bGFyXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIG5vdGU6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNhcmRpb192YXNjdWxhcl9ub3RlXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2FyZGlvIFZhc2N1bGFyIE5vdGVcIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJjYXJkaW9WYXNjdWxhck5vdGVcIixcbiAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2F0OiBcImNhcmRpb192YXNjdWxhclwiXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgbmV1cm9sb2dpY2FsX2V4YW0gOiB7XG4gICAgICAgICAgICBjYXRfbmFtZTogJ25ldXJvbG9naWNhbF9leGFtJyxcbiAgICAgICAgICAgIGZpZWxkczogW3tcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNlcmViZWxsdW1fZXhhbVwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNlcmViZWxsdW0gRXhhbSBOb3JtYWxcIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJjZXJlYmVsbHVtRXhhbVwiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcImNlcmViZWxsdW1FeGFtTm9ybWFsTm90ZVwiLFxuICAgICAgICAgICAgICAgIGNhdDogXCJuZXVyb2xvZ2ljYWxfZXhhbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicG93ZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQb3dlciBub3JtYWxcIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJwb3dlclwiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcInBvd2VyTm90ZVwiLFxuICAgICAgICAgICAgICAgIGNhdDogXCJuZXVyb2xvZ2ljYWxfZXhhbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2Vuc2F0aW9uXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiU2Vuc2F0aW9uIE5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIG1vZGVsOiBcInNlbnNhdGlvblwiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcInNlbnNhdGlvbk5vdGVcIixcbiAgICAgICAgICAgICAgICBjYXQ6IFwibmV1cm9sb2dpY2FsX2V4YW1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRvbmVcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJUb25lIG5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIG1vZGVsOiBcInRvbmVcIixcbiAgICAgICAgICAgICAgICBub3RlX3RvZ2dsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbW9kZWxfbm90ZTogXCJ0b25lTm90ZVwiLFxuICAgICAgICAgICAgICAgIGNhdDogXCJuZXVyb2xvZ2ljYWxfZXhhbVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicmVmbGV4XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVmbGV4IE5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIG1vZGVsOiBcInJlZmxleFwiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcInJlZmxleE5vdGVcIixcbiAgICAgICAgICAgICAgICBjYXQ6IFwibmV1cm9sb2dpY2FsX2V4YW1cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNuaWlfeF9paVwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNOIElJIFgtSUkgbm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgbW9kZWw6IFwiY25paXhpaVwiLFxuICAgICAgICAgICAgICAgIG5vdGVfdG9nZ2xlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb2RlbF9ub3RlOiBcImNuaWl4aWlOb3RlXCIsXG4gICAgICAgICAgICAgICAgY2F0OiBcIm5ldXJvbG9naWNhbF9leGFtXCJcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgbm90ZToge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibmV1cm9sb2dpY2FsX2V4YW1fbm90ZVwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk5ldXJvbG9naWNhbCBFeGFtIE5vdGVcIixcbiAgICAgICAgICAgICAgICBtb2RlbDogXCJuZXVyb2xvZ2ljYWxFeGFtTm90ZVwiLFxuICAgICAgICAgICAgICAgIGNhdDogXCJuZXVyb2xvZ2ljYWxfZXhhbVwiXG4gICAgICAgICAgICB9IFxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZXMgOiB7XG4gICAgICAgICAgICBfaWQ6IG51bGwsXG4gICAgICAgICAgICBpZDogJycsXG4gICAgICAgICAgICBkYXRlOiAnJyxcbiAgICAgICAgICAgIHRpbWU6ICcnLFxuICAgICAgICAgICAgcHJpbnRlZDogZmFsc2UsXG4gICAgICAgICAgICBlcl9jYXJkOiB7XG4gICAgICAgICAgICAgICAgaHBpOiAnJyxcbiAgICAgICAgICAgICAgICBwbWh4OiAnTm9uZScsXG4gICAgICAgICAgICAgICAgbWVkaWNhdGlvbjogJ05vbmUnLFxuICAgICAgICAgICAgICAgIGFsbGVyZ2llczogJ05vbmUnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGh5c2ljYWxfZXhhbToge1xuICAgICAgICAgICAgICAgIHJlc3BpcmF0b3J5X2V4YW06IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAyLFxuICAgICAgICAgICAgICAgICAgICBnb29kX2JpbGF0X2FfZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnb29kX2JpbGF0X2FfZV9ub3RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVjcmVhc2VfYV9lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlY3JlYXNlX2FfZV9ub3RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgd2hlZXppbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgd2hlZXppbmdfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNyYWNrbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY3JhY2tsZV9ub3RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgcmVzcGlyYXRvcnlfZXhhbV9ub3RlOiAnJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FyZGlvX3Zhc2N1bGFyOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogMixcbiAgICAgICAgICAgICAgICAgICAgczE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgczFfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHMyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHMyX25vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBwcHA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHBwX25vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBjYXJkaW9fdmFzY3VsYXJfbm90ZTogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFiZG9taW5hbF9leGFtOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogMixcbiAgICAgICAgICAgICAgICAgICAgc29mdF9hbmRfbm9uX3RlbmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzb2Z0X2FuZF9ub25fdGVuZGVyX25vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBic3A6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYnNwX25vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBmcHBfYW5kX2VxdWFsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZwcF9hbmRfZXF1YWxfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGRpc3RlbmRlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkaXN0ZW5kZWRfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRlbmRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0ZW5kZXJfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGRlY3JlYXNlX2Jvd2VsX3NvdW5kczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZWNyZWFzZV9ib3dlbF9zb3VuZHNfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGFiZG9taW5hbF9leGFtX25vdGU6ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWVudDoge1xuICAgICAgICAgICAgICAgICAgICB0aHJvYXRfY2xlYXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGhyb2F0X2NsZWFyX25vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0bToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0bV9ub3RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbmVja19zdXBwbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbmVja19zdXBwbGVfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHRtX3JlZF9hbmRfYnVsZ2luZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0bV9yZWRfYW5kX2J1bGdpbmdfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGV4dWRhdGVzX29uX3RvbnNpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBleHVkYXRlc19vbl90b25zaWxfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNlcnZpY2FsX2FkZW5vcGF0aHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2VydmljYWxfYWRlbm9wYXRoeV9ub3RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgaGVlbnRfbm90ZTogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5ldXJvbG9naWNhbF9leGFtOiB7XG4gICAgICAgICAgICAgICAgICAgIGNuaWlfeF9paToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ05vcm1hbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjbmlpX3hfaWlfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBvd2VyX25vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICBzZW5zYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2Vuc2F0aW9uX25vdGU6ICcnLFxuICAgICAgICAgICAgICAgICAgICB0b25lOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnTm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAyXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRvbmVfbm90ZTogJycsXG4gICAgICAgICAgICAgICAgICAgIGNsX2V4YW06IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdOb3JtYWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2xfZXhhbV9ub3RlOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgbmV1cm9sb2dpY2FsX2V4YW1fbm90ZTogJydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5vdGVzOiAnJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpYWdub3NpczogJycsXG4gICAgICAgICAgICBkaXNjaGFyZ2VfaW5zdHJ1Y3Rpb246ICcnXG4gICAgICAgIH1cbiAgICAgICAgLy9lbmRcbiAgICB9O1xuXG5cdHJldHVybiBjb25zdGFudHM7XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5mYWN0b3J5KCdlcnV0aWxzJyxmdW5jdGlvbigkdGltZW91dCwgJHJvb3RTY29wZSkge1xuXG5cdHZhciBlcnV0aWxzID0ge1xuICAgICAgICBzaG93VG9hc3Q6IGZ1bmN0aW9uIChwb3NpdGlvbiwgZHVyYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZHVyYXRpb24gPT09ICdzaG9ydCcpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnBsdWdpbnMudG9hc3Quc2hvd1Nob3J0VG9wKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wbHVnaW5zLnRvYXN0LnNob3dMb25nVG9wKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09PSAnc2hvcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wbHVnaW5zLnRvYXN0LnNob3dTaG9ydEJvdHRvbShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGx1Z2lucy50b2FzdC5zaG93TG9uZ0JvdHRvbShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGlmIChkdXJhdGlvbiA9PT0gJ3Nob3J0Jykge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGx1Z2lucy50b2FzdC5zaG93U2hvcnRUb3AobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnBsdWdpbnMudG9hc3Quc2hvd0xvbmdUb3AobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZmlsdGVyQ2hhcnRzOiBmdW5jdGlvbihjaGFydHMsIGNoYXJ0SWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFydHMuZmlsdGVyKGZ1bmN0aW9uKGNoYXJ0KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnQuaWQgIT09IGNoYXJ0SWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgYnJvYWRjYXN0UGFnZUV2ZW50OiBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYnJvYWRjYXN0aW5nOiAnICsgZXZlbnROYW1lKTtcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ1BhZ2VFdmVudDonICsgZXZlbnROYW1lKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuXHRyZXR1cm4gZXJ1dGlscztcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgnRVJDaGFydCcpLmRpcmVjdGl2ZSgnZXJmb3JtJywgZnVuY3Rpb24oJHN0YXRlLCBjb25zdGFudHMsICR0aW1lb3V0LCBjYWNoZSwgJGxvZywgJHN0YXRlUGFyYW1zLCAkaW9uaWNQb3B1cCwgJHEsIGVydXRpbHMsICRkb2N1bWVudCkge1xuICAgIHJldHVybiAgZnVuY3Rpb24oJHNjb3BlLCAkZWxlbSwgJGF0dHIsICR0cmFuc2NsdWRlKXtcbiAgICB2YXIgY3VycmVudENoYXJ0ID0ge307IFxuICAgIHZhciBhbGxDaGFydHMgPSBbXTsgXG5cbiAgICB2YXIgbmF2aWdhdGVUb0hvbWUgPSBmdW5jdGlvbigpe1xuICAgICAgJHN0YXRlLmdvKCdyb290LmhvbWUnKTtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIHNldERlZmF1bHQoKTtcbiAgICAgICAgY2FjaGUuYnJvYWRjYXN0Q2FjaGVFdmVudCgnVXBkYXRlZCcpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBzaG93RGlzY2FyZENoYXJ0Q29uZmlybSA9IGZ1bmN0aW9uKCkge1xuICAgICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgICAgIHRpdGxlOiAnRGlzY2FyZCBOZXcgQ2hhcnQ/JyxcbiAgICAgICAgIHRlbXBsYXRlOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIG5hdmlnYXRlIGF3YXkgZnJvbSB0aGlzIHBhZ2U/J1xuICAgICAgIH0pO1xuICAgICAgIGNvbmZpcm1Qb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgaWYocmVzKSB7XG4gICAgICAgICAgICAgbmF2aWdhdGVUb0hvbWUoKTtcbiAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1lvdSBhcmUgc3VyZScpO1xuICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdZb3UgYXJlIG5vdCBzdXJlJyk7XG4gICAgICAgICB9XG4gICAgICAgfSk7XG4gICAgIH07XG5cbiAgICB2YXIgc2hvd1BhdGllbnRJZFBvcHVwQW5kUHJpbnQgPSBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuICRpb25pY1BvcHVwLnNob3coe1xuICAgICAgICB0ZW1wbGF0ZTogJzxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY2hhcnQuaWRcIj4nLFxuICAgICAgICB0aXRsZTogJ1BsZWFzZSBlbnRlciBhIHBhdGllbnQgaWQuJyxcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgIHsgdGV4dDogJ0NhbmNlbCcgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0OiAnPGI+UHJpbnQ8L2I+JyxcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24tcG9zaXRpdmUnLFxuICAgICAgICAgICAgb25UYXA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2hhcnQuaWQpIHtcbiAgICAgICAgICAgICAgICAvL2Rvbid0IGFsbG93IHRoZSB1c2VyIHRvIGNsb3NlIHVubGVzcyBoZSBlbnRlcnMgd2lmaSBwYXNzd29yZFxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmNoYXJ0LmlkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHNob3dQYXRpZW50SWRQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlOiAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjaGFydC5pZFwiPicsXG4gICAgICAgIHRpdGxlOiAnUGxlYXNlIGVudGVyIGEgcGF0aWVudCBpZC4nLFxuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBidXR0b25zOiBbXG4gICAgICAgICAgeyB0ZXh0OiAnQ2FuY2VsJyB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6ICc8Yj5TYXZlPC9iPicsXG4gICAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICAgIG9uVGFwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIGlmICghJHNjb3BlLmNoYXJ0LmlkKSB7XG4gICAgICAgICAgICAgICAgLy9kb24ndCBhbGxvdyB0aGUgdXNlciB0byBjbG9zZSB1bmxlc3MgaGUgZW50ZXJzIHdpZmkgcGFzc3dvcmRcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5jaGFydC5pZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1dXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIF9zaG93UGF0aWVudElkUG9wdXAgPSBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5jaGFydC5pZCA9ICcnO1xuXG4gICAgICB2YXIgcGF0aWVudElkUG9wdXAgPSAkaW9uaWNQb3B1cC5zaG93KHtcbiAgICAgICAgdGVtcGxhdGU6ICc8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNoYXJ0LmlkXCI+JyxcbiAgICAgICAgdGl0bGU6ICdQbGVhc2UgZW50ZXIgYSBwYXRpZW50IGlkLicsXG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICB7IHRleHQ6ICdDYW5jZWwnIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGV4dDogJzxiPlNhdmU8L2I+JyxcbiAgICAgICAgICAgIHR5cGU6ICdidXR0b24tcG9zaXRpdmUnLFxuICAgICAgICAgICAgb25UYXA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY2hhcnQuaWQpIHtcbiAgICAgICAgICAgICAgICAvL2Rvbid0IGFsbG93IHRoZSB1c2VyIHRvIGNsb3NlIHVubGVzcyBoZSBlbnRlcnMgd2lmaSBwYXNzd29yZFxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmNoYXJ0LmlkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfV1cbiAgICAgIH0pO1xuXG4gICAgICBwYXRpZW50SWRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZygnVGFwcGVkIScsIHJlcyk7XG4gICAgICAgIGlmICghcmVzKXtcbiAgICAgICAgICAkc3RhdGUuZ28oJ3Jvb3QuaG9tZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGluaXRBZGRDaGFydCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgfTtcbiAgXG4gICAgdmFyIGZvcm1GaWVsZERlZmF1bHRzID0gY29uc3RhbnRzLnZhbHVlcztcbiAgICAkc2NvcGUuY2hhcnQgPSB7fTtcbiAgICAkc2NvcGUub3B0aW9ucyA9IGNvbnN0YW50cy5vcHRpb25zO1xuICAgICRzY29wZS5yZXNwID0gY29uc3RhbnRzLnJlc3BpcmF0b3J5X2V4YW07XG4gICAgJHNjb3BlLmFiZG8gPSBjb25zdGFudHMuYWJkb21pbmFsX2V4YW07XG4gICAgJHNjb3BlLmhlZW50ID0gY29uc3RhbnRzLmhlZW50O1xuICAgICRzY29wZS5jYXJkaW92ID0gY29uc3RhbnRzLmNhcmRpb192YXNjdWxhcjtcbiAgICAkc2NvcGUubmV1cm8gPSBjb25zdGFudHMubmV1cm9sb2dpY2FsX2V4YW07XG5cbiAgICAkc2NvcGUucGh5c2ljYWxfZXhhbV9tb2R1bGVzID0ge1xuICAgICAgJ1Jlc3BpcmF0b3J5IEV4YW0nIDogY29uc3RhbnRzLnJlc3BpcmF0b3J5X2V4YW0sXG4gICAgICAnQWJkb21pbmFsIEV4YW0nIDogY29uc3RhbnRzLmFiZG9taW5hbF9leGFtLFxuICAgICAgJ0hlZW50JyA6IGNvbnN0YW50cy5oZWVudCxcbiAgICAgICdDYXJkaW8gVmFzY3VsYXInIDogY29uc3RhbnRzLmNhcmRpb192YXNjdWxhcixcbiAgICAgICdOZXVyb2xvZ2ljYWwgRXhhbScgOiBjb25zdGFudHMubmV1cm9sb2dpY2FsX2V4YW1cbiAgICB9O1xuXG4gICAgdmFyIGZvcm1WYWx1ZVNldHRlciA9IGZ1bmN0aW9uKGRhdGFPYmosIGZsYWcsIHRhZ1R5cGUpe1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhT2JqKVxuICAgICAgICBpZiAoZmxhZyA9PT0gJ3N0YXR1cycpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9IGVsc2UgaWYgKGZsYWcgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfSBlbHNlIGlmIChmbGFnID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZmxhZyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICB9IGVsc2UgaWYgKGZsYWcgPT09ICd0aW1lJykge1xuICAgICAgICAgIHJldHVybiBtb21lbnQoKS5mb3JtYXQoJ2hoOm1tOiBBJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGdldFNhdmVkRmllbGRWYWx1ZSA9IGZ1bmN0aW9uKHNhdmVkVmFsdWVzLCBmbGFnLCB0YWdUeXBlLCBjYXRfbmFtZSl7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzT2JqZWN0KHNhdmVkVmFsdWVzKSAmJiAhXy5pc0VtcHR5KHNhdmVkVmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGFnVHlwZSl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzYXZlZFZhbHVlc1tmbGFnXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhZ1R5cGUgPT09ICdpbnB1dCcpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5waWNrKHNhdmVkVmFsdWVzLCBmbGFnKVtmbGFnXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhZ1R5cGUgPT09ICdjaGVja2JveCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzYXZlZFZhbHVlc1tmbGFnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNhdmVkVmFsdWVzW2ZsYWddO1xuICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFnVHlwZSA9PT0gJ3RleHRhcmVhJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNhdmVkVmFsdWVzW2ZsYWddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2F2ZWRWYWx1ZXNbZmxhZ107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybVZhbHVlU2V0dGVyKG51bGwsICdzdGF0dXMnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2V0TW9kdWxlU3RhdHVzID0gZnVuY3Rpb24oY2F0LCBzdGF0ZSwgcGFyYW1fZGF0YSwgZm4pe1xuICAgICAgICBpZiAoY2F0KSB7XG4gICAgICAgICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtW2NhdCsnX3N0YXR1cyddLiRtb2RlbFZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhwYXJhbV9kYXRhKSB8fCAhcGFyYW1fZGF0YT9cbiAgICAgICAgICAgICAgZm9ybVZhbHVlU2V0dGVyKG51bGwsICdzdGF0dXMnKSA6IGdldFNhdmVkRmllbGRWYWx1ZShwYXJhbV9kYXRhW2NhdF0sICdzdGF0dXMnKTtcbiAgICAgICAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm1bY2F0Kydfc3RhdHVzJ10uJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xuICAgICAgICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybVtjYXQrJ19zdGF0dXMnXS4kcmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzZXRDaGVja0JveFN0YXRlID0gZnVuY3Rpb24oZmllbGROYW1lLCBjYXQsIHBhcmFtX2RhdGEpe1xuICAgICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtW2ZpZWxkTmFtZS5uYW1lXS4kdmlld1ZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhwYXJhbV9kYXRhKSB8fCAhcGFyYW1fZGF0YT9cbiAgICAgICAgICBmb3JtVmFsdWVTZXR0ZXIoZm9ybUZpZWxkRGVmYXVsdHMucGh5c2ljYWxfZXhhbVtjYXRdLCAnY2hlY2tib3gnKSA6IFxuICAgICAgICAgIGdldFNhdmVkRmllbGRWYWx1ZShwYXJhbV9kYXRhW2NhdF0sIGZpZWxkTmFtZS5tb2RlbCwgJ2NoZWNrYm94Jyk7XG4gICAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm1bZmllbGROYW1lLm5hbWVdLiRyZW5kZXIoKTtcbiAgICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybVtmaWVsZE5hbWUubmFtZV0uJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgIH07XG4gICAgdmFyIHNldE5vdGVTdGF0ZSA9IGZ1bmN0aW9uKGZpZWxkLCBwYXJhbV9kYXRhKXtcbiAgICAgICAgaWYgKCRzY29wZS5FeGFtaW5hdGlvbkZvcm1bZmllbGQubmFtZV0pIHtcbiAgICAgICAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm1bZmllbGQubmFtZV0uJHZpZXdWYWx1ZSA9IGFuZ3VsYXIuaXNTdHJpbmcocGFyYW1fZGF0YSkgfHwgIXBhcmFtX2RhdGE/XG4gICAgICAgICAgICAgIGZvcm1WYWx1ZVNldHRlcihmb3JtRmllbGREZWZhdWx0cy5waHlzaWNhbF9leGFtW2ZpZWxkLm1vZHVsZV1bZmllbGQubmFtZV0sICd0ZXh0YXJlYScpIDogXG4gICAgICAgICAgICAgIGdldFNhdmVkRmllbGRWYWx1ZShwYXJhbV9kYXRhW2ZpZWxkLm1vZHVsZV0sIGZpZWxkLm1vZGVsLCAndGV4dGFyZWEnLCBmaWVsZC5tb2R1bGUpO1xuICAgICAgICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybVtmaWVsZC5uYW1lXS4kcmVuZGVyKCk7XG4gICAgICAgICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtW2ZpZWxkLm5hbWVdLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgc2V0RGVmYXVsdCA9IGZ1bmN0aW9uKHN0YXRlX2RhdGEpe1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5kYXRlLiR2aWV3VmFsdWUgPSBhbmd1bGFyLmlzU3RyaW5nKHN0YXRlX2RhdGEpIHx8ICFzdGF0ZV9kYXRhP1xuICAgICAgICAgIGZvcm1WYWx1ZVNldHRlcihmb3JtRmllbGREZWZhdWx0cywgJ2RhdGUnKSA6IGdldFNhdmVkRmllbGRWYWx1ZShzdGF0ZV9kYXRhLCAnZGF0ZScsICdpbnB1dCcpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS50aW1lLiR2aWV3VmFsdWUgPSBhbmd1bGFyLmlzU3RyaW5nKHN0YXRlX2RhdGEpIHx8ICFzdGF0ZV9kYXRhP1xuICAgICAgICAgIGZvcm1WYWx1ZVNldHRlcihmb3JtRmllbGREZWZhdWx0cywgJ3RpbWUnKSA6IGdldFNhdmVkRmllbGRWYWx1ZShzdGF0ZV9kYXRhLCAndGltZScsICdpbnB1dCcpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5kYXRlLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uZGF0ZS4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnRpbWUuJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS50aW1lLiRjb21taXRWaWV3VmFsdWUoKTtcblxuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5pZC4kdmlld1ZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhzdGF0ZV9kYXRhKSB8fCAhc3RhdGVfZGF0YT9cbiAgICAgICAgICBmb3JtVmFsdWVTZXR0ZXIoZm9ybUZpZWxkRGVmYXVsdHMsICdpZCcsICdpbnB1dCcpIDogZ2V0U2F2ZWRGaWVsZFZhbHVlKHN0YXRlX2RhdGEsICdpZCcsICdpbnB1dCcpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5pZC4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmlkLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsaXN0ID0gWydoZWVudCcsICdyZXNwJywgJ2FiZG8nLCAnY2FyZGlvdicsICduZXVybyddLCBsaXN0TGVuID0gbGlzdC5sZW5ndGg7IGk8bGlzdExlbjsgaSsrKXtcbiAgICAgICAgICAgIHNldE1vZHVsZVN0YXR1cygkc2NvcGVbbGlzdFtpXV0uY2F0X25hbWUsIFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc09iamVjdChzdGF0ZV9kYXRhKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgc2F2ZWQgZGF0YSB3aGVuIGVkaXR0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U2F2ZWRGaWVsZFZhbHVlKHN0YXRlX2RhdGFbJHNjb3BlW2xpc3RbaV1dLmNhdF9uYW1lXSwgJ3N0YXR1cycsICdpbnB1dCcsICRzY29wZVtsaXN0W2ldXS5jYXRfbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgbW9kdWxlOmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXRNb2R1bGVTdGF0dXMobGlzdFtpXSwgJ3N0YXR1cycsICdkZWZhdWx0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXRlX2RhdGFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICAvLyByZXNwXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBcbiAgICAgICAgICAgIGxpc3QgPSBbXG4gICAgICAgICAgICAgICAge25hbWU6ICdnb29kX2JpbGF0X2FfZScsIG1vZGVsOiAnZ29vZEJpbGF0QV9FJ30sXG4gICAgICAgICAgICAgICAge25hbWU6ICd3aGVlemluZycsIG1vZGVsOiAnd2hlZXppbmcnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ2NyYWNrbGUnLCBtb2RlbDogJ2NyYWNrbGUnfVxuICAgICAgICAgICAgXSwgbGlzdExlbiA9IGxpc3QubGVuZ3RoOyBpPGxpc3RMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHNldENoZWNrQm94U3RhdGUobGlzdFtpXSwgJ3Jlc3BpcmF0b3J5X2V4YW0nLCBzdGF0ZV9kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gaGVlbnRcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIFxuICAgICAgICAgICAgbGlzdCA9IFtcbiAgICAgICAgICAgICAgICB7bmFtZTogJ3Rocm9hdF9jbGVhcicsIG1vZGVsOiAndGhyb2F0Q2xlYXInfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ3RtJywgbW9kZWw6ICd0bSd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAnbmVja19zdXBwbGUnLCBtb2RlbDogJ25lY2tTdXBwbGUnfVxuICAgICAgICAgICAgXSwgbGlzdExlbiA9IGxpc3QubGVuZ3RoOyBpPGxpc3RMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHNldENoZWNrQm94U3RhdGUobGlzdFtpXSwgJ2hlZW50Jywgc3RhdGVfZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIC8vIGFiZG9cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIFxuICAgICAgICAgICAgbGlzdCA9IFtcbiAgICAgICAgICAgICAgICB7bmFtZTogJ3NvZnRfYW5kX25vbl90ZW5kZXInLCBtb2RlbDogJ3NvZnRBbmROb25UZW5kZXInfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ2JzcCcsIG1vZGVsOiAnYnNwJ30sXG4gICAgICAgICAgICAgICAge25hbWU6ICdtYXNzJywgbW9kZWw6ICdtYXNzJ30sXG4gICAgICAgICAgICAgICAge25hbWU6ICdvcmdhbm9tZWdhbHknLCBtb2RlbDogJ29yZ2Fub21lZ2FseSd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAnbm9fc2lnbl9vZl9wZXJpdG9uaXRpcycsIG1vZGVsOiAnbm9TaWduT2ZQZXJpdG9uaXRpcyd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAnZnBwX2FuZF9lcXVhbCcsIG1vZGVsOiAnZnBwQW5kRXF1YWwnfVxuICAgICAgICAgICAgXSwgbGlzdExlbiA9IGxpc3QubGVuZ3RoOyBpPGxpc3RMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHNldENoZWNrQm94U3RhdGUobGlzdFtpXSwgJ2FiZG9taW5hbF9leGFtJywgc3RhdGVfZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FyZGlvXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBcbiAgICAgICAgICAgIGxpc3QgPSBbXG4gICAgICAgICAgICAgICAge25hbWU6ICdzMV9zMl9wcmVzZW50JywgbW9kZWw6ICdzMVMyUHJlc2VudCd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAnczMnLCBtb2RlbDogJ3MzJ30sXG4gICAgICAgICAgICAgICAge25hbWU6ICdzNCcsIG1vZGVsOiAnczQnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ211cm11cicsIG1vZGVsOiAnbXVybXVyJ30sXG4gICAgICAgICAgICAgICAge25hbWU6ICdwcHAnLCBtb2RlbDogJ3BwcCd9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAnanZkJywgbW9kZWw6ICdqdmQnfVxuICAgICAgICAgICAgXSwgbGlzdExlbiA9IGxpc3QubGVuZ3RoOyBpPGxpc3RMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHNldENoZWNrQm94U3RhdGUobGlzdFtpXSwgJ2NhcmRpb192YXNjdWxhcicsIHN0YXRlX2RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gbmV1cm9cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIFxuICAgICAgICAgICAgbGlzdCA9IFtcbiAgICAgICAgICAgICAgICB7bmFtZTogJ2NlcmViZWxsdW1fZXhhbScsIG1vZGVsOiAnY2VyZWJlbGx1bUV4YW0nfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ3Bvd2VyJywgbW9kZWw6ICdwb3dlcid9LFxuICAgICAgICAgICAgICAgIHtuYW1lOiAnc2Vuc2F0aW9uJywgbW9kZWw6ICdzZW5zYXRpb24nfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ3RvbmUnLCBtb2RlbDogJ3RvbmUnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ3JlZmxleCcsIG1vZGVsOiAncmVmbGV4J30sXG4gICAgICAgICAgICAgICAge25hbWU6ICdjbmlpX3hfaWknLCBtb2RlbDogJ2NuaWl4aWknfVxuICAgICAgICAgICAgXSwgbGlzdExlbiA9IGxpc3QubGVuZ3RoOyBpPGxpc3RMZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHNldENoZWNrQm94U3RhdGUobGlzdFtpXSwgJ25ldXJvbG9naWNhbF9leGFtJywgc3RhdGVfZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIC8vIG1vZHVsZSBub3Rlc1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgXG4gICAgICAgICAgICBsaXN0ID0gW1xuICAgICAgICAgICAgICAgIHtuYW1lOiAnaGVlbnRfbm90ZScsIG1vZGVsOiAnaGVlbnROb3RlJywgbW9kdWxlOiAnaGVlbnQnfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ3Jlc3BpcmF0b3J5X2V4YW1fbm90ZScsIG1vZGVsOiAncmVzcGlyYXRvcnlFeGFtTm90ZScsIG1vZHVsZTogJ3Jlc3BpcmF0b3J5X2V4YW0nfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ2FiZG9taW5hbF9leGFtX25vdGUnLCBtb2RlbDogJ2FiZG9taW5hbEV4YW1Ob3RlJywgbW9kdWxlOiAnYWJkb21pbmFsX2V4YW0nfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ2NhcmRpb192YXNjdWxhcl9ub3RlJywgbW9kZWw6ICdjYXJkaW9WYXNjdWxhck5vdGUnLCBtb2R1bGU6ICdjYXJkaW9fdmFzY3VsYXInfSxcbiAgICAgICAgICAgICAgICB7bmFtZTogJ25ldXJvbG9naWNhbF9leGFtX25vdGUnLCBtb2RlbDogJ25ldXJvbG9naWNhbEV4YW1Ob3RlJywgbW9kdWxlOiAnbmV1cm9sb2dpY2FsX2V4YW0nfSxcbiAgICAgICAgICAgIF0sIGxpc3RMZW4gPSBsaXN0Lmxlbmd0aDsgaTxsaXN0TGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzZXROb3RlU3RhdGUobGlzdFtpXSwgc3RhdGVfZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgIC8vIHNldCBub3RlcyBhbmQgcmVuZGVyXG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmhwaS4kdmlld1ZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhzdGF0ZV9kYXRhKSB8fCAhc3RhdGVfZGF0YT9cbiAgICAgICAgICBmb3JtVmFsdWVTZXR0ZXIoZm9ybUZpZWxkRGVmYXVsdHMuZXJfY2FyZCwgJ2hwaScsICd0ZXh0YXJlYScpIDogZ2V0U2F2ZWRGaWVsZFZhbHVlKHN0YXRlX2RhdGEsICdocGknLCAndGV4dGFyZWEnKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ucG1oeC4kdmlld1ZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhzdGF0ZV9kYXRhKSB8fCAhc3RhdGVfZGF0YT9cbiAgICAgICAgICBmb3JtVmFsdWVTZXR0ZXIoZm9ybUZpZWxkRGVmYXVsdHMuZXJfY2FyZCwgJ3BtaHgnLCAndGV4dGFyZWEnKSA6IGdldFNhdmVkRmllbGRWYWx1ZShzdGF0ZV9kYXRhLCAncG1oeCcsICd0ZXh0YXJlYScpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5tZWRpY2F0aW9uLiR2aWV3VmFsdWUgPSBhbmd1bGFyLmlzU3RyaW5nKHN0YXRlX2RhdGEpIHx8ICFzdGF0ZV9kYXRhP1xuICAgICAgICAgIGZvcm1WYWx1ZVNldHRlcihmb3JtRmllbGREZWZhdWx0cy5lcl9jYXJkLCAnbWVkaWNhdGlvbicsICd0ZXh0YXJlYScpIDogZ2V0U2F2ZWRGaWVsZFZhbHVlKHN0YXRlX2RhdGEsICdtZWRpY2F0aW9uJywgJ3RleHRhcmVhJyk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmFsbGVyZ2llcy4kdmlld1ZhbHVlID0gYW5ndWxhci5pc1N0cmluZyhzdGF0ZV9kYXRhKSB8fCAhc3RhdGVfZGF0YT9cbiAgICAgICAgICBmb3JtVmFsdWVTZXR0ZXIoZm9ybUZpZWxkRGVmYXVsdHMuZXJfY2FyZCwgJ2FsbGVyZ2llcycsICd0ZXh0YXJlYScpIDogZ2V0U2F2ZWRGaWVsZFZhbHVlKHN0YXRlX2RhdGEsICdhbGxlcmdpZXMnLCAndGV4dGFyZWEnKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ubm90ZXMuJHZpZXdWYWx1ZSA9IGFuZ3VsYXIuaXNTdHJpbmcoc3RhdGVfZGF0YSkgfHwgIXN0YXRlX2RhdGE/XG4gICAgICAgICAgZm9ybVZhbHVlU2V0dGVyKGZvcm1GaWVsZERlZmF1bHRzLnBoeXNpY2FsX2V4YW0sICdub3RlcycsICd0ZXh0YXJlYScpIDogZ2V0U2F2ZWRGaWVsZFZhbHVlKHN0YXRlX2RhdGEsICdub3RlcycsICd0ZXh0YXJlYScpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5kaWFnbm9zaXMuJHZpZXdWYWx1ZSA9IGFuZ3VsYXIuaXNTdHJpbmcoc3RhdGVfZGF0YSkgfHwgIXN0YXRlX2RhdGE/XG4gICAgICAgICAgZm9ybVZhbHVlU2V0dGVyKGZvcm1GaWVsZERlZmF1bHRzLCAnZGlhZ25vc2lzJywgJ3RleHRhcmVhJykgOiBnZXRTYXZlZEZpZWxkVmFsdWUoc3RhdGVfZGF0YSwgJ2RpYWdub3NpcycsICd0ZXh0YXJlYScpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5kaXNjaGFyZ2VfaW5zdHJ1Y3Rpb24uJHZpZXdWYWx1ZSA9IGFuZ3VsYXIuaXNTdHJpbmcoc3RhdGVfZGF0YSkgfHwgIXN0YXRlX2RhdGE/XG4gICAgICAgICAgZm9ybVZhbHVlU2V0dGVyKGZvcm1GaWVsZERlZmF1bHRzLCAnZGlzY2hhcmdlX2luc3RydWN0aW9uJywgJ3RleHRhcmVhJykgOiBnZXRTYXZlZEZpZWxkVmFsdWUoc3RhdGVfZGF0YSwgJ2Rpc2NoYXJnZV9pbnN0cnVjdGlvbicsICd0ZXh0YXJlYScpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5ocGkuJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5wbWh4LiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ubWVkaWNhdGlvbi4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmFsbGVyZ2llcy4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLm5vdGVzLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uZGlhZ25vc2lzLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uZGlzY2hhcmdlX2luc3RydWN0aW9uLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uaHBpLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ucG1oeC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLm1lZGljYXRpb24uJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5hbGxlcmdpZXMuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5ub3Rlcy4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmRpYWdub3Npcy4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmRpc2NoYXJnZV9pbnN0cnVjdGlvbi4kY29tbWl0Vmlld1ZhbHVlKCk7XG5cbiAgICAgIGRlZmVycmVkLnJlc29sdmUoJHNjb3BlLkV4YW1pbmF0aW9uRm9ybSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrQ2hhcnQgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIGlmICghJHNjb3BlLmNoYXJ0LmlkIHx8ICRzY29wZS5jaGFydC5pZCA9PT0gJycpe1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ3JlcTppZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkc2NvcGUuY2hhcnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHZhciBhZGRDaGFydCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgYWxsQ2hhcnRzLnVuc2hpZnQoYW5ndWxhci5leHRlbmQoJHNjb3BlLmNoYXJ0LCB7XG4gICAgICAgIF9lcmlkOiBuZXcgRGF0ZSgpICsgJHNjb3BlLmNoYXJ0LmlkLFxuICAgICAgICBkYXRlOiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSxcbiAgICAgICAgdGltZTogJHNjb3BlLmNoYXJ0LnRpbWUgIT09ICcnID8gJHNjb3BlLmNoYXJ0LnRpbWUgOiBtb21lbnQoKS5mb3JtYXQoJ2hoOm1tIEEnKVxuICAgICAgfSkpO1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZShhbGxDaGFydHMpO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgICB2YXIgZmlsdGVyQ2hhcnRzID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBkZWZlcnJlZEZpbHRlcmVkQ2hhcnRzID0gJHEuZGVmZXIoKTtcbiAgICAgIGFsbENoYXJ0cyA9IGVydXRpbHMuZmlsdGVyQ2hhcnRzKGFsbENoYXJ0cywgJHN0YXRlUGFyYW1zLmZvcm1JZCk7XG4gICAgICBkZWZlcnJlZEZpbHRlcmVkQ2hhcnRzLnJlc29sdmUoYWxsQ2hhcnRzKTtcbiAgICAgIHJldHVybiBkZWZlcnJlZEZpbHRlcmVkQ2hhcnRzLnByb21pc2U7XG4gICAgfTtcblxuICAgIHZhciBpbml0TmV3Q2hhcnQgPSBmdW5jdGlvbihjaGFydFN0YXR1cyl7XG4gICAgICBjYWNoZS5nZXRMb2NhbERhdGEoKS50aGVuKGZ1bmN0aW9uKHN1Y2Nlc3NEYXRhKXtcbiAgICAgICAgaWYgKCFzdWNjZXNzRGF0YSkge1xuICAgICAgICAgIGFsbENoYXJ0cyA9IFtdXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWxsQ2hhcnRzID0gc3VjY2Vzc0RhdGE7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QoY2hhcnRTdGF0dXMpKSB7XG4gICAgICAgICAgICBhZGRDaGFydCgpLnRoZW4oZnVuY3Rpb24odXBkYXRlZENoYXJ0cyl7XG4gICAgICAgICAgICAgIGNhY2hlLndyaXRlTG9jYWxEYXRhKHVwZGF0ZWRDaGFydHMpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvSG9tZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3dQYXRpZW50SWRQb3B1cCgpLnRoZW4oZnVuY3Rpb24ocG9wVXBSZXN1bHQpe1xuICAgICAgICAgICAgaWYgKCFwb3BVcFJlc3VsdCl7XG4gICAgICAgICAgICAgICRzdGF0ZS5nbygncm9vdC5ob21lJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhZGRDaGFydCgpLnRoZW4oZnVuY3Rpb24obmV3Q2hhcnRzQXJyYXkpe1xuICAgICAgICAgICAgICAgIGNhY2hlLndyaXRlTG9jYWxEYXRhKG5ld0NoYXJ0c0FycmF5KS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvSG9tZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH07XG4gICAgdmFyIGluaXRFZGl0Q2hhcnQgPSBmdW5jdGlvbigpe1xuICAgICAgY2FjaGUuZ2V0TG9jYWxEYXRhKCkudGhlbihmdW5jdGlvbihzdWNjZXNzRGF0YSl7XG4gICAgICAgIGlmICghc3VjY2Vzc0RhdGEpIHtcbiAgICAgICAgICBhbGxDaGFydHMgPSBbXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsbENoYXJ0cyA9IHN1Y2Nlc3NEYXRhO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKCl7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxDaGFydHMsIGZ1bmN0aW9uKGNoYXJ0LCBrZXkpe1xuICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuZm9ybUlkID09PSBjaGFydC5pZCkge1xuICAgICAgICAgICAgc2V0RGVmYXVsdChjaGFydCkudGhlbihmdW5jdGlvbihmb3JtU2NvcGUpe1xuICAgICAgICAgICAgICBmb3JtU2NvcGUuJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICAgIGZvcm1TY29wZS4kc2V0VW50b3VjaGVkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRDaGFydCA9IGNoYXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBpbml0U2F2ZUNoYXJ0ID0gZnVuY3Rpb24oKXtcbiAgICAgIGNvbnNvbGUubG9nKCctLS1pbml0aWFsaXppbmcgU2F2ZUNoYXJ0LS0tJylcbiAgICAgIGlmICgkc3RhdGUuaXMoJ3Jvb3QuZm9ybScpKXtcbiAgICAgICAgY29uc29sZS5sb2coJy0tLXN0YXRlLmlzIHJvb3QuZm9ybTogY3JlYXRpbmcgbmV3IGNoYXJ0LS0tJylcbiAgICAgICAgY2hlY2tDaGFydCgpLnRoZW4oZnVuY3Rpb24oY2hhcnRTdGF0dXMpe1xuICAgICAgICAgIGNvbnNvbGUubG9nKCctLS1jaGFydFN0YXR1czp2YWxpZCA+IG1vdmluZyBvbi4uLS0tJylcbiAgICAgICAgICBpbml0TmV3Q2hhcnQoY2hhcnRTdGF0dXMpO1xuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIGNvbnNvbGUubG9nKCctLS1jaGFydFN0YXR1czppbnZhbGlkID4gbW92aW5nIG9uLi4tLS0nKVxuICAgICAgICAgIGluaXROZXdDaGFydChyZWFzb24pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJy0tLXN0YXRlLmlzIHJvb3QuZWRpdDogcHJvY2Vzc2luZyBuZXcgZm9ybS0tLScpXG4gICAgICAgIGZpbHRlckNoYXJ0cygpLnRoZW4oZnVuY3Rpb24obmV3Q2hhcnRzQXJyYXkpe1xuICAgICAgICAgIGFsbENoYXJ0cyA9IG5ld0NoYXJ0c0FycmF5O1xuICAgICAgICAgIGFkZENoYXJ0KCkudGhlbihmdW5jdGlvbih1cGRhdGVkQ2hhcnRzKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS1hZGRpbmcgbmV3IGNoYXJ0Li4tLS0nKVxuICAgICAgICAgICAgY2FjaGUud3JpdGVMb2NhbERhdGEodXBkYXRlZENoYXJ0cykudGhlbihmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tbmV3IGNoYXJ0IGFkZCB0byBsb2NhbCBzdG9yZSBzdWNjZXNzZnVsbHkuLi4tLS0nKVxuICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLS0tYWxsIGNsZWFyID4gZ29pbmcgYmFjayB0byBob21lLi0tLScpXG4gICAgICAgICAgICAgIG5hdmlnYXRlVG9Ib21lKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIElOSVQgUFJJTlRcbiAgICB2YXIgcHJlcFBhZ2VUb1ByaW50ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uZGF0ZS4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmRhdGUuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS50aW1lLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0udGltZS4kY29tbWl0Vmlld1ZhbHVlKCk7XG5cbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uaGVlbnRfbm90ZS4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmhlZW50X25vdGUuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5yZXNwaXJhdG9yeV9leGFtX25vdGUuJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5yZXNwaXJhdG9yeV9leGFtX25vdGUuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5hYmRvbWluYWxfZXhhbV9ub3RlLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uYWJkb21pbmFsX2V4YW1fbm90ZS4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmNhcmRpb192YXNjdWxhcl9ub3RlLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uY2FyZGlvX3Zhc2N1bGFyX25vdGUuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5uZXVyb2xvZ2ljYWxfZXhhbV9ub3RlLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ubmV1cm9sb2dpY2FsX2V4YW1fbm90ZS4kY29tbWl0Vmlld1ZhbHVlKCk7XG5cblxuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5pZC4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmlkLiRjb21taXRWaWV3VmFsdWUoKTtcblxuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5nb29kX2JpbGF0X2FfZS4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmdvb2RfYmlsYXRfYV9lLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ud2hlZXppbmcuJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS53aGVlemluZy4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmNyYWNrbGUuJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5jcmFja2xlLiRjb21taXRWaWV3VmFsdWUoKTtcblxuICAgICAgLy9yZW5kZXIgY2FyZGlvIHZhbHVlc1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5zMV9zMl9wcmVzZW50LiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uczFfczJfcHJlc2VudC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnMzLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uczMuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5zNC4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnM0LiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ucHBwLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ucHBwLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ubXVybXVyLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ubXVybXVyLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uanZkLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uanZkLiRjb21taXRWaWV3VmFsdWUoKTtcblxuICAgICAgLy8gcmVuZGVyIGFiZG9cbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uc29mdF9hbmRfbm9uX3RlbmRlci4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnNvZnRfYW5kX25vbl90ZW5kZXIuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5ic3AuJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5ic3AuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5mcHBfYW5kX2VxdWFsLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0uZnBwX2FuZF9lcXVhbC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLm9yZ2Fub21lZ2FseS4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLm9yZ2Fub21lZ2FseS4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLm5vX3NpZ25fb2ZfcGVyaXRvbml0aXMuJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5ub19zaWduX29mX3Blcml0b25pdGlzLiRjb21taXRWaWV3VmFsdWUoKTtcblxuICAgICAgLy8gcmVuZGVyIGhlZW50XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnRocm9hdF9jbGVhci4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnRocm9hdF9jbGVhci4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnRtLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0udG0uJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5uZWNrX3N1cHBsZS4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLm5lY2tfc3VwcGxlLiRjb21taXRWaWV3VmFsdWUoKTtcblxuICAgICAgLy8gc2V0IG5ldXJvXG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmNlcmViZWxsdW1fZXhhbS4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLmNlcmViZWxsdW1fZXhhbS4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnBvd2VyLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0ucG93ZXIuJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5zZW5zYXRpb24uJHJlbmRlcigpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS5zZW5zYXRpb24uJGNvbW1pdFZpZXdWYWx1ZSgpO1xuICAgICAgJHNjb3BlLkV4YW1pbmF0aW9uRm9ybS50b25lLiRyZW5kZXIoKTtcbiAgICAgICRzY29wZS5FeGFtaW5hdGlvbkZvcm0udG9uZS4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnJlZmxleC4kcmVuZGVyKCk7XG4gICAgICAkc2NvcGUuRXhhbWluYXRpb25Gb3JtLnJlZmxleC4kY29tbWl0Vmlld1ZhbHVlKCk7XG5cbiAgICAgIHZhciBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpO1xuICAgICAgcmV0dXJuIHBhZ2U7XG4gICAgfTtcblxuICAgIHZhciBwcmludERvbmUgPSBmdW5jdGlvbigpe1xuICAgICAgYW5ndWxhci5mb3JFYWNoKCRlbGVtLnBhcmVudCgpLmNoaWxkcmVuKCksIGZ1bmN0aW9uKHZhbHVlLCBrZXkpe1xuICAgICAgICBpZiAoa2V5ID49IDIpe1xuICAgICAgICAgIHZhbHVlLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICRzY29wZS5jaGFydC5wcmludGVkID0gdHJ1ZTtcbiAgICAgIGluaXRTYXZlQ2hhcnQoKTtcbiAgICB9O1xuXG4gICAgdmFyIGluaXRQcmludCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgcHJpbnRQYWdlID0gcHJlcFBhZ2VUb1ByaW50KCk7XG5cbiAgICAgIHZhciBwYXJlbnRFbGVtID0gYW5ndWxhci5lbGVtZW50KCRlbGVtWzBdLnBhcmVudE5vZGUpO1xuICAgICAgdmFyIGZvcm1FbGVtID0gYW5ndWxhci5lbGVtZW50KCRlbGVtLnBhcmVudCgpKTtcbiAgICAgIHdoaWxlICgkZWxlbS5wYXJlbnQoKVswXS5jaGlsZHJlbi5sZW5ndGggPD0gMikge1xuICAgICAgICBwYXJlbnRFbGVtLmFwcGVuZChmb3JtRWxlbS5odG1sKCkpO1xuICAgICAgfVxuXG4gICAgICBpb25pYy5QbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpe1xuICAgICAgICBjb3Jkb3ZhLnBsdWdpbnMucHJpbnRlci5wcmludChwcmludFBhZ2UsICdlci1waWQtJyArICRzY29wZS5jaGFydC5pZCB8fCAncHJpbnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBhbGVydCgncHJpbnRpbmcgZmluaXNoZWQgb3IgY2FuY2VsZWQnKVxuICAgICAgICAgICAgcHJpbnREb25lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLiRvbignUGFnZUV2ZW50OlByaW50JywgZnVuY3Rpb24oZXZlbnQsIGFyZ3Mpe1xuICAgICAvLyBjb25zb2xlLmxvZygnRXZlbnRAZXJGb3JtOjogUGFnZUV2ZW50OlByaW50JylcbiAgICAgIGNoZWNrQ2hhcnQoKS50aGVuKGZ1bmN0aW9uKGNoYXJ0KXtcbiAgICAgICAgaW5pdFByaW50KCk7XG4gICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VyZWFkeVwiLCBpbml0UHJpbnQsIGZhbHNlKTtcbiAgICAgICAgfSxmdW5jdGlvbihjaGVja0ZhaWxEYXRhKXtcbiAgICAgICAgICAgIHNob3dQYXRpZW50SWRQb3B1cEFuZFByaW50KCkudGhlbihmdW5jdGlvbihwb3B1cFJlc3VsdCl7XG4gICAgICAgICAgICAgIGlmICghcG9wdXBSZXN1bHQpe1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGluaXRQcmludCgpO1xuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VyZWFkeVwiLCBpbml0UHJpbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICAkc2NvcGUuJG9uKCdQYWdlRXZlbnQ6U2F2ZUNoYXJ0JywgZnVuY3Rpb24oZXZlbnQsIGFyZ3Mpe1xuICAgICBjb25zb2xlLmxvZygnRXZlbnRAZXJGb3JtOjogUGFnZUV2ZW50OlNhdmVDaGFydCcpXG4gICAgIGluaXRTYXZlQ2hhcnQoKTtcbiAgICB9KTtcbiAgICAkc2NvcGUuJG9uKCdQYWdlRXZlbnQ6VXBkYXRlQ2hhcnQnLCBmdW5jdGlvbihldmVudCwgYXJncyl7XG4gICAgIC8vIGNvbnNvbGUubG9nKCdFdmVudEBlckZvcm06OiBQYWdlRXZlbnQ6VXBkYXRlQ2hhcnQnKVxuICAgICAgaWYgKCEkc2NvcGUuRXhhbWluYXRpb25Gb3JtLiRpbnZhbGlkICYmICRzdGF0ZS5pcygncm9vdC5lZGl0Jykpe1xuICAgICAgICAgIC8vIGlmIGVkaXR0aW5nIGN1cnJlbnQgY2hhcnQgYW5kIGZvcm0gYmVjYW1lIGludmFsaWQgKGlkIGlzIG1pc3NpbmcpIDpcbiAgICAgICAgICBpbml0U2F2ZUNoYXJ0KClcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkc2NvcGUuJG9uKCdQYWdlRXZlbnQ6R29Ib21lJywgZnVuY3Rpb24oZXZlbnQsIGFyZ3Mpe1xuICAgICAvLyBjb25zb2xlLmxvZygnRXZlbnRAZXJGb3JtOjogUGFnZUV2ZW50OkdvSG9tZScpXG5cbiAgICAgaWYgKCRzY29wZS5FeGFtaW5hdGlvbkZvcm0uJHByaXN0aW5lICYmICEkc2NvcGUuRXhhbWluYXRpb25Gb3JtLiRkaXJ0eSl7XG4gICAgICAgLy8gaWYgZm9ybSBpcyB1bnRvdWNoZWQgYW5kIHVzZXIgZGVjaWRlZCBub3QgdG8gY29udGludWUgZmlsbGluZyB0aGUgZm9ybTogXG4gICAgICAgJHN0YXRlLmdvKCdyb290LmhvbWUnKTtcbiAgICAgIH0gZWxzZSBpZiAoISRzY29wZS5FeGFtaW5hdGlvbkZvcm0uJGludmFsaWQgJiYgJHN0YXRlLmlzKCdyb290LmVkaXQnKSl7XG4gICAgICAgIC8vIGlmIGVkaXR0aW5nIGN1cnJlbnQgY2hhcnQgYW5kIGZvcm0gYmVjYW1lIGludmFsaWQgKGlkIGlzIG1pc3NpbmcpIDpcbiAgICAgICAgaW5pdFNhdmVDaGFydCgpXG4gICAgICB9IGVsc2UgaWYgKCRzY29wZS5FeGFtaW5hdGlvbkZvcm0uJGludmFsaWQgJiYgJHN0YXRlLmlzKCdyb290LmZvcm0nKSl7XG4gICAgICAgIC8vIGlmIGNyZWF0aW5nIG5ldyBjaGFydCBhbmQgdXNlciBmb3Jnb3QgdG8gcHJvdmlkZSBwYXRpZW50IGlkOlxuICAgICAgICBpbml0U2F2ZUNoYXJ0KClcbiAgICAgIH1cbiAgICB9KTtcbiAgICAkc2NvcGUuJG9uKCdQYWdlRXZlbnQ6aXNBZGQnLCBmdW5jdGlvbigpe1xuICAgICAvLyBjb25zb2xlLmxvZygnUGFnZUV2ZW50OmlzQWRkJyk7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIHNldERlZmF1bHQoJ2RlZmF1bHQnKS50aGVuKGZ1bmN0aW9uKGZvcm1TY29wZSl7XG4gICAgICAgICAgICBmb3JtU2NvcGUuJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICBmb3JtU2NvcGUuJHNldFVudG91Y2hlZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgICAkc2NvcGUuJG9uKCdQYWdlRXZlbnQ6aXNFZGl0JywgZnVuY3Rpb24oKXtcbiAgICAgLy8gY29uc29sZS5sb2coJ1BhZ2VFdmVudDppc0VkaXQnKTtcbiAgICAgIGluaXRFZGl0Q2hhcnQoKTtcbiAgICB9KTtcblxuXG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5kaXJlY3RpdmUoJ2VySXRlbUlzcHJpbnRlZCcsIGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4ge1xuXHRcdHJlc3RyaWN0OiAnQScsXG5cdFx0bGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBmbikge1xuICAgICAgICAgICAgaWYgKGF0dHJzLmVySXRlbUlzcHJpbnRlZCkge1xuICAgICAgICAgICAgICAgIHZhciBjID0gYW5ndWxhci5lbGVtZW50KGVsZW1lbnQuY2hpbGRyZW4oKVswXSk7XG4gICAgICAgICAgICAgICAgY1swXS5zdHlsZS5iYWNrZ3JvdW5kID0gJ2JlaWdlJztcbiAgICAgICAgICAgIH1cblx0XHR9XG5cdH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ0VSQ2hhcnQnKS5jb250cm9sbGVyKCdQaW5jb2RlQ3RybCcsZnVuY3Rpb24oJHNjb3BlLCRzdGF0ZSwkdGltZW91dCxlcnVzZXIpe1xuICBlcnVzZXIuZ2V0QXV0aGRVc2VyKCdzaW1wbGVsb2dpbjoxNScpLnRoZW4oZnVuY3Rpb24ocil7XG4gICAgY29uc29sZS5sb2coSW1tdXRhYmxlLmZyb21KUyhyKSk7XG4gIH0pO1xuICAgIHZhciBwaW4gPSBbXTtcbiAgdGhpcy51bmxvY2tQaW4gPSBmdW5jdGlvbih2YWwpe1xuICAgIFxuICAgIGlmIChwaW4ubGVuZ3RoICE9PSAyKXtcbiAgICAgICAgcGluLnB1c2godmFsKTtcbiAgICAgIGNvbnNvbGUubG9nKCdhJyk7XG4gICAgfSBlbHNlIGlmIChwaW4ubGVuZ3RoID09PSAyKXtcbiAgICAgIGNvbnNvbGUubG9nKCd5bycpO1xuICAgICAgXG4gICAgICAkc3RhdGUuZ28oJ3Jvb3QuaG9tZScpO1xuICAgICAgICByZXR1cm4gcGluID0gW107XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKHBpbik7XG4gICAgXG4gIH07XG5cblxufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdFUkNoYXJ0JykuZmFjdG9yeSgnZXJ1c2VyJyxmdW5jdGlvbigkbG9jYWxGb3JhZ2UsJHdpbmRvdywkcSkge1xuXG4gIHZhciBlcnVzZXIgPSB7XG4gICAgY3JlYXRlVXNlcjogZnVuY3Rpb24obmV3VXNlcixkYXRhKXtcbiAgICAgIHJldHVybiAkbG9jYWxGb3JhZ2Uuc2V0SXRlbShuZXdVc2VyLl9lcnVpZCwgZGF0YSk7XG4gICAgfSxcbiAgICBnZXRBdXRoZFVzZXI6IGZ1bmN0aW9uKHVzZXJLZXkpe1xuICAgICAgcmV0dXJuICRsb2NhbEZvcmFnZS5nZXRJdGVtKHVzZXJLZXkpO1xuICAgIH0sXG4gICAgZ2V0TG9jYWxBdXRoVXNlcjogZnVuY3Rpb24oKXtcbiAgICAgIHZhciBlcmZpcmVfc2Vzc2lvbl9rZXkgPSAnZmlyZWJhc2U6c2Vzc2lvbjo6ZXJhJztcbiAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZVtlcmZpcmVfc2Vzc2lvbl9rZXldO1xuICAgIH0sXG4gICAgaXNVc2VyQXV0aGQ6IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRoaXMuZ2V0TG9jYWxBdXRoVXNlcigpKSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZXJ1c2VyO1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdFckF1dGgnLCBbXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdFckF1dGgnKS5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpIHtcblxuICAgIC8qIEFkZCBOZXcgU3RhdGVzIEFib3ZlICovXG5cbn0pO1xuXG5cbmFuZ3VsYXIubW9kdWxlKCdFckF1dGgnKS5mYWN0b3J5KCdnbG9iYWxBdXRoJyxmdW5jdGlvbigpIHtcblxuXHR2YXIgZ2xvYmFsQXV0aCA9IHt9O1xuXG5cdHJldHVybiBnbG9iYWxBdXRoO1xufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9